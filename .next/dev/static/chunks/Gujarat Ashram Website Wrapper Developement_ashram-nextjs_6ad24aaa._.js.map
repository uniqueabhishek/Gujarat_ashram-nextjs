{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%20Desktop/Gujarat_Ashram%20Website/Gujarat%20Ashram%20Website%20Wrapper%20Developement/ashram-nextjs/lib/utils.ts"],"sourcesContent":["export function cn(...inputs: Array<string | undefined | false | null>) {\r\n    return inputs.filter(Boolean).join(\" \");\r\n  }\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,GAAG,GAAG,MAAgD;IAClE,OAAO,OAAO,MAAM,CAAC,SAAS,IAAI,CAAC;AACrC"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%20Desktop/Gujarat_Ashram%20Website/Gujarat%20Ashram%20Website%20Wrapper%20Developement/ashram-nextjs/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:opacity-50 disabled:pointer-events-none\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-ashram-amber text-white hover:bg-ashram-amber/90 shadow-sm\",\r\n        destructive: \"bg-red-500 text-white hover:bg-red-600 shadow-sm\",\r\n        outline: \"border border-ashram-stone/20 bg-transparent hover:bg-ashram-stone/5 text-ashram-stone\",\r\n        secondary: \"bg-ashram-sand text-ashram-stone hover:bg-ashram-sand/80 shadow-sm\",\r\n        ghost: \"hover:bg-ashram-stone/10 text-ashram-stone\",\r\n        link: \"text-ashram-amber underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-8 px-3 py-1 text-xs\",\r\n        lg: \"h-12 px-8 py-3 text-base\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {}\r\n\r\nexport function Button({ className, variant, size, ...props }: ButtonProps) {\r\n  return (\r\n    <button className={cn(buttonVariants({ variant, size, className }))} {...props} />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,MAAM,iBAAiB,IAAA,iPAAG,EACxB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOK,SAAS,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAoB;IACxE,qBACE,oQAAC;QAAO,WAAW,IAAA,4LAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAM,GAAG,KAAK;;;;;;AAElF;KAJgB"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%20Desktop/Gujarat_Ashram%20Website/Gujarat%20Ashram%20Website%20Wrapper%20Developement/ashram-nextjs/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport function Card({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"rounded-xl border bg-white shadow-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function CardHeader({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return (\r\n    <div\r\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function CardTitle({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLHeadingElement>) {\r\n  return (\r\n    <h3\r\n      className={cn(\"font-semibold leading-none tracking-tight\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport function CardContent({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n  return <div className={cn(\"p-6 pt-0\", className)} {...props} />;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;AACA;;;AAEO,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAA6C;IAChF,qBACE,oQAAC;QACC,WAAW,IAAA,4LAAE,EAAC,wCAAwC;QACrD,GAAG,KAAK;;;;;;AAGf;KAPgB;AAST,SAAS,WAAW,EACzB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,oQAAC;QACC,WAAW,IAAA,4LAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAVgB;AAYT,SAAS,UAAU,EACxB,SAAS,EACT,GAAG,OACsC;IACzC,qBACE,oQAAC;QACC,WAAW,IAAA,4LAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAVgB;AAYT,SAAS,YAAY,EAC1B,SAAS,EACT,GAAG,OACkC;IACrC,qBAAO,oQAAC;QAAI,WAAW,IAAA,4LAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAC7D;MALgB"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%20Desktop/Gujarat_Ashram%20Website/Gujarat%20Ashram%20Website%20Wrapper%20Developement/ashram-nextjs/lib/api-client.ts"],"sourcesContent":["const API_BASE = process.env.NEXT_PUBLIC_API_BASE || 'http://localhost:3000'\r\n\r\n// Helper function for API calls\r\nasync function fetchAPI(endpoint: string, options?: RequestInit) {\r\n  const url = `${API_BASE}${endpoint}`\r\n  const response = await fetch(url, {\r\n    ...options,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...options?.headers,\r\n    },\r\n  })\r\n\r\n  if (!response.ok) {\r\n    throw new Error(`API error: ${response.statusText}`)\r\n  }\r\n\r\n  return response.json()\r\n}\r\n\r\n// Menu Items\r\nexport const menuItemsAPI = {\r\n  getAll: () => fetchAPI('/api/menu-items'),\r\n  update: (items: any[]) =>\r\n    fetchAPI('/api/menu-items', {\r\n      method: 'POST',\r\n      body: JSON.stringify(items),\r\n    }),\r\n}\r\n\r\n// Hero Buttons\r\nexport const heroButtonsAPI = {\r\n  getAll: () => fetchAPI('/api/hero-buttons'),\r\n  update: (buttons: any[]) =>\r\n    fetchAPI('/api/hero-buttons', {\r\n      method: 'POST',\r\n      body: JSON.stringify(buttons),\r\n    }),\r\n}\r\n\r\n// Footer Links\r\nexport const footerLinksAPI = {\r\n  getAll: () => fetchAPI('/api/footer-links'),\r\n  update: (links: any[]) =>\r\n    fetchAPI('/api/footer-links', {\r\n      method: 'POST',\r\n      body: JSON.stringify(links),\r\n    }),\r\n}\r\n\r\n// Events\r\nexport const eventsAPI = {\r\n  getAll: () => fetchAPI('/api/events'),\r\n  create: (event: any) =>\r\n    fetchAPI('/api/events', {\r\n      method: 'POST',\r\n      body: JSON.stringify(event),\r\n    }),\r\n  updateAll: (events: any[]) =>\r\n    fetchAPI('/api/events', {\r\n      method: 'POST',\r\n      body: JSON.stringify(events),\r\n    }),\r\n}\r\n\r\n// About Content\r\nexport const aboutAPI = {\r\n  get: () => fetchAPI('/api/about'),\r\n  update: (content: any) =>\r\n    fetchAPI('/api/about', {\r\n      method: 'POST',\r\n      body: JSON.stringify(content),\r\n    }),\r\n}\r\n\r\n// Info Cards\r\nexport const infoCardsAPI = {\r\n  getAll: () => fetchAPI('/api/info-cards'),\r\n  update: (cards: any[]) =>\r\n    fetchAPI('/api/info-cards', {\r\n      method: 'POST',\r\n      body: JSON.stringify(cards),\r\n    }),\r\n}\r\n\r\n// Contact\r\nexport const contactAPI = {\r\n  getAll: () => fetchAPI('/api/contact'),\r\n  update: (contacts: any[]) =>\r\n    fetchAPI('/api/contact', {\r\n      method: 'POST',\r\n      body: JSON.stringify(contacts),\r\n    }),\r\n}\r\n\r\n// Images\r\nexport const imagesAPI = {\r\n  getByCategory: (category: string) =>\r\n    fetchAPI(`/api/images/by-category/${category}`),\r\n  upload: async (file: File, category: string) => {\r\n    const formData = new FormData()\r\n    formData.append('image', file)\r\n    formData.append('category', category)\r\n\r\n    const response = await fetch(`${API_BASE}/api/images/upload`, {\r\n      method: 'POST',\r\n      body: formData,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to upload image')\r\n    }\r\n\r\n    return response.json()\r\n  },\r\n  delete: (id: number) =>\r\n    fetchAPI(`/api/images/${id}`, {\r\n      method: 'DELETE',\r\n    }),\r\n  reorder: (updates: { id: number; order: number }[]) =>\r\n    fetchAPI('/api/images/reorder', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ updates }),\r\n    }),\r\n}\r\n\r\n// Footer Settings\r\nexport const footerSettingsAPI = {\r\n  get: () => fetchAPI('/api/footer-settings'),\r\n  update: (settings: any) =>\r\n    fetchAPI('/api/footer-settings', {\r\n      method: 'POST',\r\n      body: JSON.stringify(settings),\r\n    }),\r\n}\r\n\r\n// Social Links\r\nexport const socialLinksAPI = {\r\n  getAll: () => fetchAPI('/api/social-links'),\r\n  update: (links: any[]) =>\r\n    fetchAPI('/api/social-links', {\r\n      method: 'POST',\r\n      body: JSON.stringify(links),\r\n    }),\r\n}\r\n\r\n// Footer Buttons\r\nexport const footerButtonsAPI = {\r\n  getAll: () => fetchAPI('/api/footer-buttons'),\r\n  update: (buttons: any[]) =>\r\n    fetchAPI('/api/footer-buttons', {\r\n      method: 'POST',\r\n      body: JSON.stringify(buttons),\r\n    }),\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%20Desktop/Gujarat_Ashram%20Website/Gujarat%20Ashram%20Website%20Wrapper%20Developement/ashram-nextjs/lib/canvasUtils.ts"],"sourcesContent":["export const createImage = (url: string): Promise<HTMLImageElement> =>\r\n  new Promise((resolve, reject) => {\r\n    const image = new Image()\r\n    image.addEventListener('load', () => resolve(image))\r\n    image.addEventListener('error', (error) => reject(error))\r\n    image.setAttribute('crossOrigin', 'anonymous') // needed to avoid cross-origin issues on CodeSandbox\r\n    image.src = url\r\n  })\r\n\r\nexport function getRadianAngle(degreeValue: number) {\r\n  return (degreeValue * Math.PI) / 180\r\n}\r\n\r\n/**\r\n * Returns the new bounding area of a rotated rectangle.\r\n */\r\nexport function rotateSize(width: number, height: number, rotation: number) {\r\n  const rotRad = getRadianAngle(rotation)\r\n\r\n  return {\r\n    width:\r\n      Math.abs(Math.cos(rotRad) * width) + Math.abs(Math.sin(rotRad) * height),\r\n    height:\r\n      Math.abs(Math.sin(rotRad) * width) + Math.abs(Math.cos(rotRad) * height),\r\n  }\r\n}\r\n\r\n/**\r\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\r\n */\r\nexport default async function getCroppedImg(\r\n  imageSrc: string,\r\n  pixelCrop: { x: number; y: number; width: number; height: number },\r\n  rotation = 0,\r\n  flip = { horizontal: false, vertical: false }\r\n): Promise<Blob | null> {\r\n  const image = await createImage(imageSrc)\r\n  const canvas = document.createElement('canvas')\r\n  const ctx = canvas.getContext('2d')\r\n\r\n  if (!ctx) {\r\n    return null\r\n  }\r\n\r\n  const rotRad = getRadianAngle(rotation)\r\n\r\n  // calculate bounding box of the rotated image\r\n  const { width: bBoxWidth, height: bBoxHeight } = rotateSize(\r\n    image.width,\r\n    image.height,\r\n    rotation\r\n  )\r\n\r\n  // set canvas size to match the bounding box\r\n  canvas.width = bBoxWidth\r\n  canvas.height = bBoxHeight\r\n\r\n  // translate canvas context to a central location to allow rotating and flipping around the center\r\n  ctx.translate(bBoxWidth / 2, bBoxHeight / 2)\r\n  ctx.rotate(rotRad)\r\n  ctx.scale(flip.horizontal ? -1 : 1, flip.vertical ? -1 : 1)\r\n  ctx.translate(-image.width / 2, -image.height / 2)\r\n\r\n  // draw rotated image\r\n  ctx.drawImage(image, 0, 0)\r\n\r\n  // croppedAreaPixels values are bounding box relative\r\n  // extract the cropped image using these values\r\n  const data = ctx.getImageData(\r\n    pixelCrop.x,\r\n    pixelCrop.y,\r\n    pixelCrop.width,\r\n    pixelCrop.height\r\n  )\r\n\r\n  // set canvas width to final desired crop size - this will clear existing context\r\n  canvas.width = pixelCrop.width\r\n  canvas.height = pixelCrop.height\r\n\r\n  // paste generated rotate image at the top left corner\r\n  ctx.putImageData(data, 0, 0)\r\n\r\n  // As a blob\r\n  return new Promise((resolve, reject) => {\r\n    canvas.toBlob((file) => {\r\n      resolve(file)\r\n    }, 'image/jpeg')\r\n  })\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,cAAc,CAAC,MAC1B,IAAI,QAAQ,CAAC,SAAS;QACpB,MAAM,QAAQ,IAAI;QAClB,MAAM,gBAAgB,CAAC,QAAQ,IAAM,QAAQ;QAC7C,MAAM,gBAAgB,CAAC,SAAS,CAAC,QAAU,OAAO;QAClD,MAAM,YAAY,CAAC,eAAe,cAAa,qDAAqD;QACpG,MAAM,GAAG,GAAG;IACd;AAEK,SAAS,eAAe,WAAmB;IAChD,OAAO,AAAC,cAAc,KAAK,EAAE,GAAI;AACnC;AAKO,SAAS,WAAW,KAAa,EAAE,MAAc,EAAE,QAAgB;IACxE,MAAM,SAAS,eAAe;IAE9B,OAAO;QACL,OACE,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,UAAU,SAAS,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,UAAU;QACnE,QACE,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,UAAU,SAAS,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,UAAU;IACrE;AACF;AAKe,eAAe,cAC5B,QAAgB,EAChB,SAAkE,EAClE,WAAW,CAAC,EACZ,OAAO;IAAE,YAAY;IAAO,UAAU;AAAM,CAAC;IAE7C,MAAM,QAAQ,MAAM,YAAY;IAChC,MAAM,SAAS,SAAS,aAAa,CAAC;IACtC,MAAM,MAAM,OAAO,UAAU,CAAC;IAE9B,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,MAAM,SAAS,eAAe;IAE9B,8CAA8C;IAC9C,MAAM,EAAE,OAAO,SAAS,EAAE,QAAQ,UAAU,EAAE,GAAG,WAC/C,MAAM,KAAK,EACX,MAAM,MAAM,EACZ;IAGF,4CAA4C;IAC5C,OAAO,KAAK,GAAG;IACf,OAAO,MAAM,GAAG;IAEhB,kGAAkG;IAClG,IAAI,SAAS,CAAC,YAAY,GAAG,aAAa;IAC1C,IAAI,MAAM,CAAC;IACX,IAAI,KAAK,CAAC,KAAK,UAAU,GAAG,CAAC,IAAI,GAAG,KAAK,QAAQ,GAAG,CAAC,IAAI;IACzD,IAAI,SAAS,CAAC,CAAC,MAAM,KAAK,GAAG,GAAG,CAAC,MAAM,MAAM,GAAG;IAEhD,qBAAqB;IACrB,IAAI,SAAS,CAAC,OAAO,GAAG;IAExB,qDAAqD;IACrD,+CAA+C;IAC/C,MAAM,OAAO,IAAI,YAAY,CAC3B,UAAU,CAAC,EACX,UAAU,CAAC,EACX,UAAU,KAAK,EACf,UAAU,MAAM;IAGlB,iFAAiF;IACjF,OAAO,KAAK,GAAG,UAAU,KAAK;IAC9B,OAAO,MAAM,GAAG,UAAU,MAAM;IAEhC,sDAAsD;IACtD,IAAI,YAAY,CAAC,MAAM,GAAG;IAE1B,YAAY;IACZ,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,OAAO,MAAM,CAAC,CAAC;YACb,QAAQ;QACV,GAAG;IACL;AACF"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///D:/D%20Desktop/Gujarat_Ashram%20Website/Gujarat%20Ashram%20Website%20Wrapper%20Developement/ashram-nextjs/app/admin/page.tsx"],"sourcesContent":["'use client'\n\n// AdminDashboard.tsx - Complete admin panel migrated to Next.js App Router\nimport { useEffect, useState, useRef } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport {\n  LogOut,\n  Menu,\n  Image as ImageIcon,\n  Link,\n  Upload,\n  Calendar,\n  FileText,\n  Grid3x3,\n  Phone,\n  Trash2,\n  Plus,\n  X,\n  MapPin,\n} from \"lucide-react\";\n\nimport {\n  menuItemsAPI,\n  heroButtonsAPI,\n  footerLinksAPI,\n  eventsAPI,\n  aboutAPI,\n  infoCardsAPI,\n  contactAPI,\n  imagesAPI,\n} from \"@/lib/api-client\";\nimport Cropper from \"react-easy-crop\";\nimport getCroppedImg from \"@/lib/canvasUtils\";\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragOverlay,\n} from \"@dnd-kit/core\";\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n  useSortable,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\n\n// Type definitions\ninterface MenuItem {\n  id: string;\n  name: string;\n  url: string;\n  isSpecial?: boolean;\n  variant?: string;\n}\n\ninterface HeroButton {\n  id: string;\n  name: string;\n  url: string;\n  variant: string;\n}\n\ninterface FooterLink {\n  id: string;\n  label: string;\n  url: string;\n}\n\ninterface Event {\n  id: string;\n  title: string;\n  date: string;\n  description: string;\n  buttonText?: string;\n  buttonUrl?: string;\n}\n\ninterface AboutContent {\n  id: string;\n  heroTitle: string;\n  heroSubtitle: string;\n  heroDescription: string;\n  aboutBadge?: string;\n  aboutTitle: string;\n  aboutDescription: string;\n  videoUrl?: string;\n  footerTitle: string;\n  footerDescription: string;\n}\n\ninterface InfoCard {\n  id: string;\n  title: string;\n  description: string;\n  icon: string;\n}\n\ninterface ContactInfo {\n  id: string;\n  type: string;\n  label: string;\n  value: string;\n  url?: string;\n}\n\ninterface Image {\n  id: string;\n  category: string;\n  filename: string;\n  path: string;\n  alt?: string;\n  order: number; // NEW\n}\n\n// Type definitions for props\ninterface EditorProps<T> {\n  items: T[];\n  setItems: React.Dispatch<React.SetStateAction<T[]>>;\n}\n\ninterface AboutEditorProps {\n  content: AboutContent;\n  setContent: React.Dispatch<React.SetStateAction<AboutContent>>;\n}\n\ninterface ImageManagerProps {\n  heroImages: Image[];\n  setHeroImages: React.Dispatch<React.SetStateAction<Image[]>>; // NEW\n  heroMobileImages: Image[]; // NEW\n  setHeroMobileImages: React.Dispatch<React.SetStateAction<Image[]>>; // NEW\n  galleryImages: Image[];\n  setGalleryImages: React.Dispatch<React.SetStateAction<Image[]>>; // NEW\n  onRefresh: () => void;\n  onSave: () => Promise<void>;\n  imagesToDelete: Set<string>;\n  setImagesToDelete: React.Dispatch<React.SetStateAction<Set<string>>>;\n}\n\n// ============================================\n// MAIN ADMIN DASHBOARD COMPONENT\n// ============================================\n\nconst AdminDashboard = () => {\n  const router = useRouter();\n  const [tab, setTab] = useState(\"menu\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  // Original content states\n  const [menuItems, setMenuItems] = useState<MenuItem[]>([]);\n  const [heroButtons, setHeroButtons] = useState<HeroButton[]>([]);\n  const [footerLinks, setFooterLinks] = useState<FooterLink[]>([]);\n\n  // New content states\n  const [events, setEvents] = useState<Event[]>([]);\n  const [aboutContent, setAboutContent] = useState<AboutContent>({\n    id: \"default\",\n    heroTitle: \"\",\n    heroSubtitle: \"\",\n    heroDescription: \"\",\n    aboutTitle: \"\",\n    aboutDescription: \"\",\n    footerTitle: \"\",\n    footerDescription: \"\",\n  });\n  const [infoCards, setInfoCards] = useState<InfoCard[]>([]);\n  const [contactInfo, setContactInfo] = useState<ContactInfo[]>([]);\n\n  // Images\n  const [heroImages, setHeroImages] = useState<Image[]>([]);\n  const [heroMobileImages, setHeroMobileImages] = useState<Image[]>([]); // NEW\n  const [galleryImages, setGalleryImages] = useState<Image[]>([]);\n  const [imagesToDelete, setImagesToDelete] = useState<Set<string>>(new Set());\n\n  // Load all data on component mount\n  useEffect(() => {\n    loadAllData();\n  }, []);\n\n  async function loadAllData() {\n    try {\n      const [\n        menuData,\n        heroData,\n        footerData,\n        eventsData,\n        aboutData,\n        cardsData,\n        contactData,\n        heroImgs,\n        heroMobileImgs, // NEW\n        galleryImgs,\n      ] = await Promise.all([\n        menuItemsAPI.getAll(),\n        heroButtonsAPI.getAll(),\n        footerLinksAPI.getAll(),\n        eventsAPI.getAll(),\n        aboutAPI.get(),\n        infoCardsAPI.getAll(),\n        contactAPI.getAll(),\n        imagesAPI.getByCategory(\"hero\"),\n        imagesAPI.getByCategory(\"hero-mobile\"), // NEW\n        imagesAPI.getByCategory(\"gallery\"),\n      ]);\n\n      setMenuItems(menuData);\n      setHeroButtons(heroData);\n      setFooterLinks(footerData);\n      setEvents(eventsData);\n      setAboutContent(aboutData);\n      setInfoCards(cardsData);\n      setContactInfo(contactData);\n      setHeroImages(heroImgs.sort((a: Image, b: Image) => (a.order || 0) - (b.order || 0)));\n      setHeroMobileImages(heroMobileImgs.sort((a: Image, b: Image) => (a.order || 0) - (b.order || 0))); // NEW\n      setGalleryImages(galleryImgs.sort((a: Image, b: Image) => (a.order || 0) - (b.order || 0)));\n    } catch (error) {\n      console.error(\"Failed to load data:\", error);\n      setMessage(\"Failed to load some data from server\");\n    }\n  }\n\n  // Save handler for current tab\n  async function handleSave() {\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      let success = false;\n\n      switch (tab) {\n        case \"menu\":\n          await menuItemsAPI.update(menuItems);\n          success = true;\n          break;\n        case \"hero\":\n          await heroButtonsAPI.update(heroButtons);\n          success = true;\n          break;\n        case \"footer\":\n          await footerLinksAPI.update(footerLinks);\n          success = true;\n          break;\n        case \"events\":\n          await eventsAPI.updateAll(events);\n          success = true;\n          break;\n        case \"about\":\n          await aboutAPI.update(aboutContent);\n          success = true;\n          break;\n        case \"cards\":\n          await infoCardsAPI.update(infoCards);\n          success = true;\n          break;\n        case \"contact\":\n          // Auto-extract iframe src if user pasted full code\n          const cleanedContact = contactInfo.map(item => {\n            if (item.type === 'map' && item.value.trim().startsWith('<iframe')) {\n              // Extract src URL\n              const srcMatch = item.value.match(/src=[\"']([^\"']+)[\"']/);\n              if (srcMatch && srcMatch[1]) {\n                console.log(\"Extracted map URL:\", srcMatch[1]);\n                return { ...item, value: srcMatch[1] };\n              }\n            }\n            return item;\n          });\n\n          // Update local state to show cleaned URL\n          setContactInfo(cleanedContact);\n\n          await contactAPI.update(cleanedContact);\n          success = true;\n          break;\n        case \"images\":\n          // Delete marked images\n          if (imagesToDelete.size > 0) {\n            const deletePromises = Array.from(imagesToDelete).map(id =>\n              imagesAPI.delete(Number(id))\n            );\n            await Promise.all(deletePromises);\n            setImagesToDelete(new Set());\n          }\n\n          // Update image orders (excluding deleted ones)\n          const allImageUpdates = [\n            ...heroImages,\n            ...heroMobileImages,\n            ...galleryImages\n          ]\n          .filter(img => !imagesToDelete.has(img.id))\n          .map((img, index) => ({ id: Number(img.id), order: index }));\n\n          if (allImageUpdates.length > 0) {\n             await imagesAPI.reorder(allImageUpdates);\n          }\n\n          await loadAllData(); // Reload all data to reflect changes\n          success = true;\n          break;\n      }\n\n      if (success) {\n        setMessage(\"✅ Changes saved successfully!\");\n        setTimeout(() => setMessage(\"\"), 3000);\n      } else {\n        setMessage(\"❌ Failed to save changes\");\n      }\n    } catch (error) {\n      setMessage(\"❌ Error: \" + (error instanceof Error ? error.message : \"Unknown error\"));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const handleLogout = async () => {\n    // Clear localStorage authentication\n    localStorage.removeItem(\"isAuthenticated\");\n    localStorage.removeItem(\"adminUser\");\n\n    // Navigate to login page\n    router.push(\"/login\");\n  };\n\n  // Tab configuration\n  const tabs = [\n    { id: \"menu\", label: \"Menu\", icon: Menu },\n    { id: \"hero\", label: \"Hero Buttons\", icon: ImageIcon },\n    { id: \"footer\", label: \"Footer\", icon: Link },\n    { id: \"events\", label: \"Events\", icon: Calendar },\n    { id: \"about\", label: \"About\", icon: FileText },\n    { id: \"cards\", label: \"Info Cards\", icon: Grid3x3 },\n    { id: \"contact\", label: \"Contact\", icon: Phone },\n    { id: \"images\", label: \"Images\", icon: Upload },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n      {/* Header */}\n      <div className=\"bg-white border-b shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-800\">\n              Gujarat Ashram Admin\n            </h1>\n            <p className=\"text-sm text-gray-500 mt-1\">\n              Manage all website content from here\n            </p>\n          </div>\n          <Button\n            variant=\"outline\"\n            onClick={handleLogout}\n            className=\"flex items-center gap-2\"\n          >\n            <LogOut className=\"w-4 h-4\" />\n            Logout\n          </Button>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Status Message */}\n\n\n        {/* Tabs */}\n        <div className=\"flex gap-2 mb-6 bg-white p-2 rounded-lg shadow-sm border flex-wrap\">\n          {tabs.map((t) => {\n            const Icon = t.icon;\n            return (\n              <Button\n                key={t.id}\n                variant={tab === t.id ? \"default\" : \"ghost\"}\n                onClick={() => setTab(t.id)}\n                className=\"flex-1 flex items-center justify-center gap-2 min-w-[120px]\"\n              >\n                <Icon className=\"w-4 h-4\" />\n                {t.label}\n              </Button>\n            );\n          })}\n        </div>\n\n        {/* Content Editor Panel */}\n        <Card className=\"shadow-lg border-0\">\n          <CardContent className=\"p-6\">\n            {/* Menu Items Editor */}\n            {tab === \"menu\" && (\n              <MenuEditor items={menuItems} setItems={setMenuItems} />\n            )}\n\n            {/* Hero Buttons Editor */}\n            {tab === \"hero\" && (\n              <HeroEditor items={heroButtons} setItems={setHeroButtons} />\n            )}\n\n            {/* Footer Links Editor */}\n            {tab === \"footer\" && (\n              <FooterEditor items={footerLinks} setItems={setFooterLinks} />\n            )}\n\n            {/* Events Editor */}\n            {tab === \"events\" && (\n              <EventsEditor items={events} setItems={setEvents} />\n            )}\n\n            {/* About Content Editor */}\n            {tab === \"about\" && (\n              <AboutEditor content={aboutContent} setContent={setAboutContent} />\n            )}\n\n            {/* Info Cards Editor */}\n            {tab === \"cards\" && (\n              <InfoCardsEditor items={infoCards} setItems={setInfoCards} />\n            )}\n\n            {/* Contact Info Editor */}\n            {tab === \"contact\" && (\n              <ContactEditor items={contactInfo} setItems={setContactInfo} />\n            )}\n\n            {/* Image Manager */}\n            {tab === \"images\" && (\n              <ImageManager\n                heroImages={heroImages}\n                setHeroImages={setHeroImages}\n                heroMobileImages={heroMobileImages}\n                setHeroMobileImages={setHeroMobileImages}\n                galleryImages={galleryImages}\n                setGalleryImages={setGalleryImages}\n                onRefresh={loadAllData}\n                onSave={handleSave}\n                imagesToDelete={imagesToDelete}\n                setImagesToDelete={setImagesToDelete}\n              />\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Save Button (for all tabs) */}\n        <div className=\"mt-6 flex justify-center\">\n          <Button\n            onClick={handleSave}\n            disabled={loading}\n            className=\"px-8 py-3 bg-orange-500 hover:bg-orange-600 disabled:opacity-50\"\n          >\n            {loading ? \"Saving...\" : \"Save Changes\"}\n          </Button>\n\n          {/* Status Message */}\n          {message && (\n             <div\n               className={`ml-4 px-4 py-2 rounded-lg flex items-center ${\n                 message.includes(\"✅\")\n                   ? \"bg-green-100 text-green-700 border border-green-200\"\n                   : message.includes(\"❌\")\n                   ? \"bg-red-100 text-red-700 border border-red-200\"\n                   : \"bg-yellow-100 text-yellow-700 border border-yellow-200\"\n               } animate-in fade-in slide-in-from-left-5`}\n             >\n               {message}\n             </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ============================================\n// EDITOR COMPONENTS\n// ============================================\n\n// Menu Items Editor (existing)\nfunction MenuEditor({ items, setItems }: EditorProps<MenuItem>) {\n  const addItem = () => {\n    const newItem: MenuItem = {\n      id: Date.now().toString(),\n      name: \"New Menu Item\",\n      url: \"https://\",\n      isSpecial: false,\n      variant: \"default\",\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (index: number) => {\n    setItems(items.filter((_, i) => i !== index));\n  };\n\n  const updateItem = (index: number, field: string, value: string | boolean) => {\n    const updated = [...items];\n    updated[index] = { ...updated[index], [field]: value };\n    setItems(updated);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Navigation Menu Items</h2>\n\n      <div className=\"space-y-3\">\n        {items.map((item, idx) => (\n          <div key={idx} className=\"space-y-2 p-3 border rounded-lg bg-gray-50\">\n            <div className=\"flex gap-2\">\n              <input\n                className=\"flex-1 px-3 py-2 border rounded\"\n                placeholder=\"Menu Name\"\n                value={item.name}\n                onChange={(e) => updateItem(idx, \"name\", e.target.value)}\n              />\n              <input\n                className=\"flex-1 px-3 py-2 border rounded\"\n                placeholder=\"URL\"\n                value={item.url}\n                onChange={(e) => updateItem(idx, \"url\", e.target.value)}\n              />\n              <Button\n                variant=\"outline\"\n                size=\"default\"\n                onClick={() => removeItem(idx)}\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </Button>\n            </div>\n\n            {/* Special Button Toggle */}\n            <div className=\"flex items-center gap-4\">\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={item.isSpecial || false}\n                  onChange={(e) => updateItem(idx, \"isSpecial\", e.target.checked)}\n                  className=\"w-4 h-4 text-orange-600\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">\n                  Display as Button\n                </span>\n              </label>\n\n              {/* Show variant selector only if isSpecial is true */}\n              {item.isSpecial && (\n                <select\n                  className=\"px-3 py-1.5 border rounded text-sm\"\n                  value={item.variant || \"default\"}\n                  onChange={(e) => updateItem(idx, \"variant\", e.target.value)}\n                >\n                  <option value=\"default\">Primary (Solid)</option>\n                  <option value=\"outline\">Outline (Bordered)</option>\n                  <option value=\"ghost\">Ghost (Text Only)</option>\n                </select>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <Button onClick={addItem} variant=\"outline\" className=\"mt-4 w-full\">\n        <Plus className=\"w-4 h-4 mr-2\" /> Add Menu Item\n      </Button>\n    </div>\n  );\n}\n\n// Hero Buttons Editor (existing)\nfunction HeroEditor({ items, setItems }: EditorProps<HeroButton>) {\n  const addItem = () => {\n    const newItem: HeroButton = {\n      id: Date.now().toString(),\n      name: \"New Button\",\n      url: \"https://\",\n      variant: \"default\",\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (index: number) => {\n    setItems(items.filter((_, i) => i !== index));\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const updated = [...items];\n    updated[index] = { ...updated[index], [field]: value };\n    setItems(updated);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Hero Section Buttons</h2>\n\n      <div className=\"space-y-3\">\n        {items.map((item, idx) => (\n          <div key={idx} className=\"flex gap-2\">\n            <input\n              className=\"flex-1 px-3 py-2 border rounded\"\n              placeholder=\"Button Text\"\n              value={item.name}\n              onChange={(e) => updateItem(idx, \"name\", e.target.value)}\n            />\n            <input\n              className=\"flex-1 px-3 py-2 border rounded\"\n              placeholder=\"URL\"\n              value={item.url}\n              onChange={(e) => updateItem(idx, \"url\", e.target.value)}\n            />\n            <select\n              className=\"px-3 py-2 border rounded\"\n              value={item.variant}\n              onChange={(e) => updateItem(idx, \"variant\", e.target.value)}\n            >\n              <option value=\"default\">Primary</option>\n              <option value=\"outline\">Outline</option>\n            </select>\n            <Button\n              variant=\"outline\"\n              size=\"default\"\n              onClick={() => removeItem(idx)}\n            >\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        ))}\n      </div>\n\n      <Button onClick={addItem} variant=\"outline\" className=\"mt-4 w-full\">\n        <Plus className=\"w-4 h-4 mr-2\" /> Add Hero Button\n      </Button>\n    </div>\n  );\n}\n\n// Footer Links Editor (existing)\nfunction FooterEditor({ items, setItems }: EditorProps<FooterLink>) {\n  const addItem = () => {\n    const newItem: FooterLink = {\n      id: Date.now().toString(),\n      label: \"New Link\",\n      url: \"https://\",\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (index: number) => {\n    setItems(items.filter((_, i) => i !== index));\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const updated = [...items];\n    updated[index] = { ...updated[index], [field]: value };\n    setItems(updated);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Footer Contact Links</h2>\n\n      <div className=\"space-y-3\">\n        {items.map((item, idx) => (\n          <div key={idx} className=\"flex gap-2\">\n            <input\n              className=\"flex-1 px-3 py-2 border rounded\"\n              placeholder=\"Label\"\n              value={item.label}\n              onChange={(e) => updateItem(idx, \"label\", e.target.value)}\n            />\n            <input\n              className=\"flex-1 px-3 py-2 border rounded\"\n              placeholder=\"URL\"\n              value={item.url}\n              onChange={(e) => updateItem(idx, \"url\", e.target.value)}\n            />\n            <Button\n              variant=\"outline\"\n              size=\"default\"\n              onClick={() => removeItem(idx)}\n            >\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        ))}\n      </div>\n\n      <Button onClick={addItem} variant=\"outline\" className=\"mt-4 w-full\">\n        <Plus className=\"w-4 h-4 mr-2\" /> Add Footer Link\n      </Button>\n    </div>\n  );\n}\n\n// NEW: Events Editor\nfunction EventsEditor({ items, setItems }: EditorProps<Event>) {\n  const addItem = () => {\n    const newItem: Event = {\n      id: Date.now().toString(),\n      title: \"New Event\",\n      date: \"Date TBD\",\n      description: \"Event description here\",\n      buttonText: \"Register Now\",\n      buttonUrl: \"\",\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (index: number) => {\n    setItems(items.filter((_, i) => i !== index));\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const updated = [...items];\n    updated[index] = { ...updated[index], [field]: value };\n    setItems(updated);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Upcoming Events</h2>\n      <p className=\"text-sm text-gray-600 mb-4\">\n        Manage events that appear on the homepage\n      </p>\n\n      <div className=\"space-y-4\">\n        {items.map((item, idx) => (\n          <Card key={idx} className=\"p-4\">\n            <div className=\"space-y-3\">\n              <div className=\"flex gap-2\">\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded\"\n                  placeholder=\"Event Title\"\n                  value={item.title}\n                  onChange={(e) => updateItem(idx, \"title\", e.target.value)}\n                />\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  onClick={() => removeItem(idx)}\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </Button>\n              </div>\n\n              <input\n                className=\"w-full px-3 py-2 border rounded\"\n                placeholder=\"Date (e.g., Dec 5 - Dec 7, 2025)\"\n                value={item.date}\n                onChange={(e) => updateItem(idx, \"date\", e.target.value)}\n              />\n\n              <textarea\n                className=\"w-full px-3 py-2 border rounded\"\n                placeholder=\"Event Description\"\n                rows={2}\n                value={item.description}\n                onChange={(e) => updateItem(idx, \"description\", e.target.value)}\n              />\n\n              <div className=\"flex gap-2\">\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded\"\n                  placeholder=\"Button Text\"\n                  value={item.buttonText || \"Register Now\"}\n                  onChange={(e) => updateItem(idx, \"buttonText\", e.target.value)}\n                />\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded\"\n                  placeholder=\"Registration URL (optional)\"\n                  value={item.buttonUrl || \"\"}\n                  onChange={(e) => updateItem(idx, \"buttonUrl\", e.target.value)}\n                />\n              </div>\n            </div>\n          </Card>\n        ))}\n      </div>\n\n      <Button onClick={addItem} variant=\"outline\" className=\"mt-4 w-full\">\n        <Plus className=\"w-4 h-4 mr-2\" /> Add Event\n      </Button>\n    </div>\n  );\n}\n\n// NEW: About Content Editor\nfunction AboutEditor({ content, setContent }: AboutEditorProps) {\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">About & Text Content</h2>\n      <p className=\"text-sm text-gray-600 mb-6\">\n        Manage all text content across the website - Hero section, About section, and Footer\n      </p>\n\n      {/* SECTION 1: Hero Section */}\n      <div className=\"mb-8 p-6 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg\">\n        <h3 className=\"font-bold text-lg text-orange-900 mb-2 flex items-center gap-2\">\n          1️⃣ Hero Section (Top of Homepage)\n        </h3>\n        <p className=\"text-sm text-orange-700 mb-4\">\n          This appears at the very top of your homepage with the background image\n        </p>\n\n        <div className=\"space-y-3\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Main Title (Line 1)\n            </label>\n            <input\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Art of Living\"\n              value={content.heroTitle}\n              onChange={(e) =>\n                setContent({ ...content, heroTitle: e.target.value })\n              }\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Subtitle (Line 2 - shown in amber color)\n            </label>\n            <input\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Gujarat Ashram\"\n              value={content.heroSubtitle}\n              onChange={(e) =>\n                setContent({ ...content, heroSubtitle: e.target.value })\n              }\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Description (Below title)\n            </label>\n            <textarea\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Discover a sanctuary for inner peace...\"\n              rows={2}\n              value={content.heroDescription}\n              onChange={(e) =>\n                setContent({ ...content, heroDescription: e.target.value })\n              }\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* SECTION 2: About / Why Visit Section */}\n      <div className=\"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg\">\n        <h3 className=\"font-bold text-lg text-green-900 mb-2 flex items-center gap-2\">\n          2️⃣ About Section (\"Why Visit\")\n        </h3>\n        <p className=\"text-sm text-green-700 mb-4\">\n          This appears in the middle of the homepage next to the gallery images\n        </p>\n\n        <div className=\"space-y-3\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Small Badge Text (Optional - shown in amber)\n            </label>\n            <input\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Discover\"\n              value={content.aboutBadge || \"\"}\n              onChange={(e) =>\n                setContent({ ...content, aboutBadge: e.target.value })\n              }\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Section Title\n            </label>\n            <input\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Why Visit the Gujarat Ashram?\"\n              value={content.aboutTitle}\n              onChange={(e) =>\n                setContent({ ...content, aboutTitle: e.target.value })\n              }\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Description\n            </label>\n            <textarea\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Experience a calm environment filled with wisdom...\"\n              rows={4}\n              value={content.aboutDescription}\n              onChange={(e) =>\n                setContent({ ...content, aboutDescription: e.target.value })\n              }\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Video URL (Optional)\n            </label>\n            <input\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"https://youtube.com/...\"\n              value={content.videoUrl || \"\"}\n              onChange={(e) =>\n                setContent({ ...content, videoUrl: e.target.value })\n              }\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* SECTION 3: Footer Section */}\n      <div className=\"p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg\">\n        <h3 className=\"font-bold text-lg text-blue-900 mb-2 flex items-center gap-2\">\n          3️⃣ Footer Section (Bottom of Page)\n        </h3>\n        <p className=\"text-sm text-blue-700 mb-4\">\n          This appears at the bottom of every page in the footer area\n        </p>\n\n        <div className=\"space-y-3\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Footer Title\n            </label>\n            <input\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"Gujarat Ashram\"\n              value={content.footerTitle}\n              onChange={(e) =>\n                setContent({ ...content, footerTitle: e.target.value })\n              }\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-1 text-gray-700\">\n              Footer Description\n            </label>\n            <textarea\n              className=\"w-full px-3 py-2 border rounded bg-white\"\n              placeholder=\"A sanctuary for peace, meditation, and spiritual growth...\"\n              rows={3}\n              value={content.footerDescription}\n              onChange={(e) =>\n                setContent({ ...content, footerDescription: e.target.value })\n              }\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// NEW: Info Cards Editor\nfunction InfoCardsEditor({ items, setItems }: EditorProps<InfoCard>) {\n  const addItem = () => {\n    const newItem: InfoCard = {\n      id: Date.now().toString(),\n      title: \"New Feature\",\n      description: \"Description here\",\n      icon: \"Home\",\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (index: number) => {\n    setItems(items.filter((_, i) => i !== index));\n  };\n\n  const updateItem = (index: number, field: string, value: string) => {\n    const updated = [...items];\n    updated[index] = { ...updated[index], [field]: value };\n    setItems(updated);\n  };\n\n  const iconOptions = [\n    \"Home\",\n    \"Users\",\n    \"MapPin\",\n    \"Calendar\",\n    \"Heart\",\n    \"Star\",\n    \"Sun\",\n    \"Moon\",\n    \"Mountain\",\n    \"Trees\",\n    \"Flower\",\n    \"Coffee\",\n    \"ImageIcon\",\n  ];\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Info Cards / Facilities</h2>\n      <p className=\"text-sm text-gray-600 mb-4\">\n        Manage the feature cards that appear on the homepage. Colors auto-assign in rotation: Orange → Green → Blue.\n      </p>\n\n      {/* Add color preview indicator */}\n      <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n        <h3 className=\"font-semibold text-blue-900 mb-2 flex items-center gap-2\">\n          Card Colors\n        </h3>\n        <p className=\"text-sm text-blue-800\">\n          Cards automatically cycle through colors:\n          <span className=\"inline-flex gap-2 ml-2 mt-1 flex-wrap\">\n            <span className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs\">1st - Orange</span>\n            <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded text-xs\">2nd - Green</span>\n            <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs\">3rd - Blue</span>\n            <span className=\"px-2 py-1 bg-orange-100 text-orange-700 rounded text-xs\">4th - Orange</span>\n            <span className=\"text-xs text-blue-700\">etc...</span>\n          </span>\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {items.map((item, idx) => (\n          <Card key={idx} className=\"p-4\">\n            <div className=\"space-y-3\">\n              <div className=\"flex gap-2\">\n                <select\n                  className=\"px-3 py-2 border rounded\"\n                  value={item.icon}\n                  onChange={(e) => updateItem(idx, \"icon\", e.target.value)}\n                >\n                  {iconOptions.map((icon) => (\n                    <option key={icon} value={icon}>\n                      {icon}\n                    </option>\n                  ))}\n                </select>\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded\"\n                  placeholder=\"Card Title\"\n                  value={item.title}\n                  onChange={(e) => updateItem(idx, \"title\", e.target.value)}\n                />\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  onClick={() => removeItem(idx)}\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </Button>\n              </div>\n\n              <textarea\n                className=\"w-full px-3 py-2 border rounded\"\n                placeholder=\"Card Description\"\n                rows={2}\n                value={item.description}\n                onChange={(e) =>\n                  updateItem(idx, \"description\", e.target.value)\n                }\n              />\n            </div>\n          </Card>\n        ))}\n      </div>\n\n      <Button onClick={addItem} variant=\"outline\" className=\"mt-4 w-full\">\n        <Plus className=\"w-4 h-4 mr-2\" /> Add Info Card\n      </Button>\n    </div>\n  );\n}\n\n// NEW: Contact Info Editor\nfunction ContactEditor({ items, setItems }: EditorProps<ContactInfo>) {\n  // Separate Map item from others\n  const mapItem = items.find(i => i.type === 'map');\n  const otherItems = items.filter(i => i.type !== 'map');\n\n  const addMap = () => {\n    if (mapItem) return;\n    const newMap: ContactInfo = {\n      id: Date.now().toString(),\n      type: \"map\",\n      label: \"Map Location\",\n      value: \"\", // Homepage reads 'value' for iframe src\n      url: \"\",\n    };\n    setItems([newMap, ...items]);\n  };\n\n  const addItem = () => {\n    const newItem: ContactInfo = {\n      id: Date.now().toString(),\n      type: \"phone\",\n      label: \"New Contact\",\n      value: \"\",\n      url: \"\",\n    };\n    setItems([...items, newItem]);\n  };\n\n  const removeItem = (id: string) => {\n    setItems(items.filter((i) => i.id !== id));\n  };\n\n  const updateItem = (id: string, field: string, value: string) => {\n    setItems(items.map(item => item.id === id ? { ...item, [field]: value } : item));\n  };\n\n  const typeOptions = [\n    { value: \"phone\", label: \"Phone\", color: \"bg-blue-100 text-blue-800\" },\n    { value: \"whatsapp\", label: \"WhatsApp\", color: \"bg-green-100 text-green-800\" },\n    { value: \"email\", label: \"Email\", color: \"bg-rose-100 text-rose-800\" },\n    { value: \"website\", label: \"Website\", color: \"bg-violet-100 text-violet-800\" },\n    { value: \"address\", label: \"Address\", color: \"bg-gray-100 text-gray-800\" },\n    { value: \"other\", label: \"Other\", color: \"bg-gray-100 text-gray-800\" },\n  ];\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Contact Information</h2>\n\n      {/* 1. Map Section */}\n      <div className=\"mb-8 p-4 bg-slate-50 border rounded-xl\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"font-semibold flex items-center gap-2\">\n            <MapPin className=\"w-5 h-5 text-ashram-clay\" />\n            Location Map\n          </h3>\n          {!mapItem && (\n            <Button size=\"sm\" onClick={addMap} className=\"bg-ashram-clay text-white\">\n              Enable Map\n            </Button>\n          )}\n        </div>\n\n        {mapItem ? (\n          <div className=\"space-y-3\">\n             <div className=\"bg-blue-50 p-3 rounded-lg border border-blue-100 text-sm text-blue-900\">\n               <strong className=\"block mb-1\">How to get this link:</strong>\n               <ol className=\"list-decimal list-inside space-y-1 ml-1 text-blue-800\">\n                 <li>Go to Google Maps and search for your location</li>\n                 <li>Click the <strong>Share</strong> button</li>\n                 <li>Select the <strong>Embed a map</strong> tab</li>\n                 <li>Click <strong>Copy HTML</strong></li>\n                 <li>Paste the full code below (we will protectively extract just the source URL automatically on save, or you can paste just the URL inside src=\"...\").</li>\n               </ol>\n             </div>\n\n             <p className=\"text-sm text-gray-500 font-medium\">\n               Paste Google Maps Embed Source URL:\n             </p>\n             <div className=\"flex gap-2\">\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded font-mono text-sm\"\n                  placeholder=\"https://www.google.com/maps/embed?...\"\n                  value={mapItem.value}\n                  onChange={(e) => updateItem(mapItem.id, \"value\", e.target.value)}\n                />\n                <Button variant=\"outline\" onClick={() => removeItem(mapItem.id)}>\n                  <Trash2 className=\"w-4 h-4 text-red-500\" />\n                </Button>\n             </div>\n          </div>\n        ) : (\n          <p className=\"text-sm text-gray-400 italic\">No map configured. Click 'Enable Map' to add one.</p>\n        )}\n      </div>\n\n      {/* 2. Contact Channels */}\n      <h3 className=\"font-semibold mb-3\">Contact Channels</h3>\n      <div className=\"space-y-3\">\n        {otherItems.map((item) => (\n          <Card key={item.id} className=\"p-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n              <div className=\"flex gap-2\">\n                 <select\n                  className=\"px-3 py-2 border rounded w-1/3\"\n                  value={item.type}\n                  onChange={(e) => updateItem(item.id, \"type\", e.target.value)}\n                >\n                  {typeOptions.map((opt) => (\n                    <option key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </option>\n                  ))}\n                </select>\n\n                {/* Color Hint */}\n                {(() => {\n                   const opt = typeOptions.find(o => o.value === item.type);\n                   return opt ? (\n                     <div className={`px-3 py-2 rounded text-xs font-semibold flex items-center ${opt.color}`}>\n                       {opt.label} Color\n                     </div>\n                   ) : null;\n                })()}\n\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded\"\n                  placeholder=\"Label (e.g. Office)\"\n                  value={item.label}\n                  onChange={(e) => updateItem(item.id, \"label\", e.target.value)}\n                />\n              </div>\n\n              <div className=\"flex gap-2\">\n                <input\n                  className=\"flex-1 px-3 py-2 border rounded\"\n                  placeholder=\"Display Value (e.g. +91 999...)\"\n                  value={item.value}\n                  onChange={(e) => updateItem(item.id, \"value\", e.target.value)}\n                />\n\n                {item.type !== 'address' && (\n                  <input\n                    className=\"flex-1 px-3 py-2 border rounded\"\n                    placeholder=\"Action URL (tel:, mailto:)\"\n                    value={item.url || \"\"}\n                    onChange={(e) => updateItem(item.id, \"url\", e.target.value)}\n                  />\n                )}\n\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  onClick={() => removeItem(item.id)}\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          </Card>\n        ))}\n      </div>\n\n      <Button onClick={addItem} variant=\"outline\" className=\"mt-4 w-full border-dashed\">\n        <Plus className=\"w-4 h-4 mr-2\" /> Add Channel\n      </Button>\n    </div>\n  );\n}\n\n\n\n// Image Cropper Modal\nfunction ImageCropper({\n  imageSrc,\n  aspectRatio,\n  onCancel,\n  onCropComplete,\n  uploading,\n}: {\n  imageSrc: string;\n  aspectRatio: number; // 16/9 or 9/16\n  onCancel: () => void;\n  onCropComplete: (croppedBlob: Blob) => void;\n  uploading: boolean;\n}) {\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState<any>(null);\n\n  const handleCropComplete = (croppedArea: any, croppedAreaPixels: any) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  };\n\n  const executeCrop = async () => {\n    try {\n      const croppedBlob = await getCroppedImg(imageSrc, croppedAreaPixels);\n      if (croppedBlob) {\n        onCropComplete(croppedBlob);\n      }\n    } catch (e) {\n      console.error(e);\n      alert(\"Failed to crop image\");\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4\">\n      <div className=\"bg-white rounded-xl overflow-hidden w-full max-w-5xl h-[85vh] flex flex-col shadow-2xl animate-in fade-in zoom-in duration-300\">\n        <div className=\"p-4 border-b flex justify-between items-center bg-gray-50\">\n          <h3 className=\"font-bold text-lg flex items-center gap-2\">\n            <div className=\"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600\">\n               <ImageIcon className=\"w-5 h-5\" />\n            </div>\n            Adjust Image\n          </h3>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onCancel}>\n            <X className=\"w-5 h-5 text-gray-500 hover:text-red-500 transition-colors\" />\n          </Button>\n        </div>\n\n        <div className=\"relative flex-1 bg-neutral-900 overflow-hidden\">\n          <Cropper\n            image={imageSrc}\n            crop={crop}\n            zoom={zoom}\n            aspect={aspectRatio}\n            showGrid={true}\n            onCropChange={setCrop}\n            onCropComplete={handleCropComplete}\n            onZoomChange={setZoom}\n          />\n        </div>\n\n        <div className=\"p-6 bg-white border-t space-y-6\">\n          <div className=\"flex items-center gap-6 max-w-2xl mx-auto\">\n             <span className=\"text-sm font-medium w-12 text-gray-600\">Zoom</span>\n             <input\n               type=\"range\"\n               value={zoom}\n               min={1}\n               max={3}\n               step={0.1}\n               aria-labelledby=\"Zoom\"\n               onChange={(e) => setZoom(Number(e.target.value))}\n               className=\"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-orange-600\"\n             />\n             <span className=\"text-center font-mono text-xs bg-gray-100 px-2 py-1 rounded w-12\">{zoom.toFixed(1)}x</span>\n          </div>\n          <div className=\"flex justify-between items-center bg-orange-50 p-4 rounded-lg border border-orange-100\">\n             <div className=\"text-sm text-orange-800\">\n                <strong>Tip:</strong> Drag to position. Use slider to zoom. Image will be resized to HD quality.\n             </div>\n             <div className=\"flex gap-3\">\n                <Button variant=\"outline\" onClick={onCancel} disabled={uploading} className=\"border-gray-300\">Cancel</Button>\n                <Button onClick={executeCrop} disabled={uploading} className=\"bg-orange-600 hover:bg-orange-700 text-white px-8\">\n                  {uploading ? (\n                    <span className=\"flex items-center gap-2\">\n                       <span className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></span>\n                       Processing...\n                    </span>\n                  ) : \"Crop & Upload\"}\n                </Button>\n             </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Sortable Image Component\nfunction SortableImage({\n  image,\n  isMarkedForDelete,\n  onDelete,\n  onPreview,\n  API_BASE,\n}: {\n  image: Image;\n  isMarkedForDelete: boolean;\n  onDelete: (id: string) => void;\n  onPreview: (url: string, filename: string) => void;\n  API_BASE: string;\n}) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: image.id.toString() });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    zIndex: isDragging ? 50 : \"auto\",\n    opacity: isDragging ? 0.5 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={`relative group aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-move shadow-sm hover:shadow-md transition-all ${\n        isDragging ? \"ring-2 ring-orange-500 scale-105\" : \"\"\n      }`}\n      {...attributes}\n      {...listeners}\n      onClick={() => onPreview(`${API_BASE}${image.path}`, image.filename)}\n    >\n      <img\n        src={`${API_BASE}${image.path}`}\n        alt={image.filename}\n        className={`w-full h-full object-cover transition-all ${\n          isMarkedForDelete ? \"grayscale opacity-50\" : \"group-hover:scale-105\"\n        }`}\n      />\n      <div className=\"absolute top-2 left-2 bg-black/50 text-white text-[10px] px-1.5 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\n         Drag to reorder\n      </div>\n      <button\n        className={`absolute top-2 right-2 p-1.5 rounded-full z-10 transition-all ${\n          isMarkedForDelete\n            ? \"bg-green-500 text-white\"\n            : \"bg-white text-red-500 opacity-0 group-hover:opacity-100\"\n        }`}\n        onClick={(e) => {\n          e.stopPropagation();\n          onDelete(image.id);\n        }}\n        onPointerDown={(e) => e.stopPropagation()} // Prevent drag start on delete button\n      >\n        {isMarkedForDelete ? (\n          <Plus className=\"w-4 h-4 rotate-45\" />\n        ) : (\n          <Trash2 className=\"w-4 h-4\" />\n        )}\n      </button>\n\n      {/* Order Badge */}\n       <div className=\"absolute bottom-2 right-2 bg-black/50 text-white text-[10px] px-1.5 py-0.5 rounded opacity-100 pointer-events-none\">\n         #{image.order}\n      </div>\n    </div>\n  );\n}\n\n// Image Manager (Enhanced with preview modal, delete marking, and save functionality)\nfunction ImageManager({\n  heroImages,\n  setHeroImages,\n  heroMobileImages,\n  setHeroMobileImages,\n  galleryImages,\n  setGalleryImages,\n  onRefresh,\n  imagesToDelete,\n  setImagesToDelete,\n}: ImageManagerProps) {\n  const [uploading, setUploading] = useState(false);\n  const [cropCategory, setCropCategory] = useState<string | null>(null);\n  const [cropImageSrc, setCropImageSrc] = useState<string | null>(null);\n\n  // File inputs\n  const heroFileInputRef = useRef<HTMLInputElement>(null);\n  const heroMobileFileInputRef = useRef<HTMLInputElement>(null);\n  const galleryFileInputRef = useRef<HTMLInputElement>(null);\n\n  // Image preview modal state\n  const [previewImage, setPreviewImage] = useState<{ url: string; filename: string } | null>(null);\n\n  // Get API base URL for image paths\n  const API_BASE = process.env.NEXT_PUBLIC_API_BASE || 'http://localhost:3000';\n\n  // Sortable Sensors\n  const sensors = useSensors(\n    useSensor(PointerSensor, { activationConstraint: { distance: 8 } }),\n    useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\n  );\n\n  // 1. Handle File Selection -> Open Cropper\n  const handleFileSelect = (\n    event: React.ChangeEvent<HTMLInputElement>,\n    category: string\n  ) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    // Check limit\n    let currentCount = 0;\n    if (category === \"hero\") currentCount = heroImages.length;\n    else if (category === \"hero-mobile\") currentCount = heroMobileImages.length;\n    else currentCount = galleryImages.length;\n\n    if (currentCount >= 15) {\n      alert(`Maximum limit of 15 images reached for this category.`);\n      event.target.value = \"\";\n      return;\n    }\n\n    // Read file for cropper\n    const reader = new FileReader();\n    reader.addEventListener(\"load\", () => {\n      setCropImageSrc(reader.result?.toString() || \"\");\n      setCropCategory(category);\n    });\n    reader.readAsDataURL(file);\n    event.target.value = \"\"; // reset input for next time\n  };\n\n  // 2. Handle Crop Complete -> Upload\n  const handleCropComplete = async (croppedBlob: Blob) => {\n    if (!cropCategory) return;\n\n    setUploading(true);\n    try {\n      // Create a file from blob\n      const file = new File([croppedBlob], `upload-${Date.now()}.jpg`, { type: \"image/jpeg\" });\n\n      const uploaded = await imagesAPI.upload(file, cropCategory);\n      if (uploaded) {\n        onRefresh();\n        alert(\"Image uploaded successfully!\");\n        // Close cropper\n        setCropImageSrc(null);\n        setCropCategory(null);\n      } else {\n        alert(\"Failed to upload image.\");\n      }\n    } catch (error) {\n      console.error(error);\n      alert(\"Upload failed.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Mark/unmark image for deletion\n  const toggleDeleteMark = (id: string) => {\n    setImagesToDelete(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(id)) {\n        newSet.delete(id);\n      } else {\n        newSet.add(id);\n      }\n      return newSet;\n    });\n  };\n\n  // Drag End Handler\n  const handleDragEnd = (event: any, category: string) => {\n    const { active, over } = event;\n    if (!over || active.id === over.id) return;\n\n    const updateOrder = (items: Image[], setItems: React.Dispatch<React.SetStateAction<Image[]>>) => {\n      const oldIndex = items.findIndex((i) => i.id.toString() === active.id);\n      const newIndex = items.findIndex((i) => i.id.toString() === over.id);\n      const newItems = arrayMove(items, oldIndex, newIndex).map((item, index) => ({ ...item, order: index }));\n      setItems(newItems);\n    };\n\n    if (category === \"hero\") {\n      updateOrder(heroImages, setHeroImages);\n    } else if (category === \"hero-mobile\") {\n       updateOrder(heroMobileImages, setHeroMobileImages);\n    } else if (category === \"gallery\") {\n      updateOrder(galleryImages, setGalleryImages);\n    }\n  };\n\n  const renderImageGrid = (\n    images: Image[],\n    setImages: React.Dispatch<React.SetStateAction<Image[]>>,\n    title: string,\n    category: string,\n    onUploadClick: () => void,\n    emptyText: string\n  ) => (\n    <div className=\"mb-8 p-4 border rounded-xl bg-gray-50/50\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"font-bold text-gray-700 flex items-center gap-2\">\n            {title}\n            <span className=\"text-xs font-normal text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full\">\n               {images.length} / 15\n            </span>\n          </h3>\n          <Button variant=\"outline\" size=\"sm\" onClick={onUploadClick} disabled={uploading}>\n            <Plus className=\"w-4 h-4 mr-2\" /> Add Image\n          </Button>\n        </div>\n\n        {images.length > 0 ? (\n          <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={(e) => handleDragEnd(e, category)}>\n            <SortableContext items={images.map(img => img.id.toString())} strategy={rectSortingStrategy}>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                {images.map((img) => {\n                    const isMarked = imagesToDelete.has(img.id);\n                    return (\n                      <SortableImage\n                        key={img.id}\n                        image={img}\n                        isMarkedForDelete={isMarked}\n                        onDelete={toggleDeleteMark}\n                        onPreview={(url, filename) => setPreviewImage({ url, filename })}\n                        API_BASE={API_BASE}\n                      />\n                    )\n                })}\n              </div>\n            </SortableContext>\n          </DndContext>\n        ) : (\n           <div className=\"text-center py-10 bg-white border-2 border-dashed border-gray-200 rounded-lg\">\n              <ImageIcon className=\"w-10 h-10 mx-auto text-gray-300 mb-2\" />\n              <p className=\"text-sm text-gray-500\">{emptyText}</p>\n           </div>\n        )}\n    </div>\n  );\n\n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-6\">Image Management</h2>\n\n      {/* Hero Desktop */}\n      {renderImageGrid(\n         heroImages,\n         setHeroImages,\n         \"Hero Slider (Desktop - Landscape)\",\n         \"hero\",\n         () => heroFileInputRef.current?.click(),\n         \"No desktop hero images\"\n      )}\n      <input type=\"file\" ref={heroFileInputRef} accept=\"image/*\" className=\"hidden\" onChange={(e) => handleFileSelect(e, \"hero\")} />\n\n      {/* Hero Mobile */}\n      {renderImageGrid(\n         heroMobileImages,\n         setHeroMobileImages,\n         \"Hero Slider (Mobile - Portrait)\",\n         \"hero-mobile\",\n         () => heroMobileFileInputRef.current?.click(),\n         \"No mobile hero images. Desktop images will be used (and cropped).\"\n      )}\n      <input type=\"file\" ref={heroMobileFileInputRef} accept=\"image/*\" className=\"hidden\" onChange={(e) => handleFileSelect(e, \"hero-mobile\")} />\n\n      {/* Gallery */}\n      {renderImageGrid(\n         galleryImages,\n         setGalleryImages,\n         \"Gallery Images\",\n         \"gallery\",\n         () => galleryFileInputRef.current?.click(),\n         \"No gallery images\"\n      )}\n      <input type=\"file\" ref={galleryFileInputRef} accept=\"image/*\" className=\"hidden\" onChange={(e) => handleFileSelect(e, \"gallery\")} />\n\n      {/* Pending Changes */}\n       {imagesToDelete.size > 0 && (\n        <div className=\"fixed bottom-8 right-8 bg-white px-6 py-4 rounded-full shadow-2xl border border-red-100 flex items-center gap-4 animate-in slide-in-from-bottom-10 z-40\">\n           <div className=\"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600\">\n             <Trash2 className=\"w-5 h-5\" />\n           </div>\n           <div>\n             <p className=\"font-bold text-gray-800\">{imagesToDelete.size} images marked for deletion</p>\n             <p className=\"text-xs text-gray-500\">Click Save Changes to verify</p>\n           </div>\n        </div>\n      )}\n\n      {/* Cropper Modal */}\n      {cropImageSrc && (\n        <ImageCropper\n          imageSrc={cropImageSrc}\n          aspectRatio={cropCategory === \"hero-mobile\" ? 9 / 16 : 16 / 9}\n          onCancel={() => {\n            setCropImageSrc(null);\n            setCropCategory(null);\n          }}\n          onCropComplete={handleCropComplete}\n          uploading={uploading}\n        />\n      )}\n\n      {/* Preview Modal */}\n      {previewImage && (\n        <div className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\" onClick={() => setPreviewImage(null)}>\n           <img src={previewImage.url} alt=\"Preview\" className=\"max-w-full max-h-[90vh] object-contain rounded\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminDashboard;\n"],"names":[],"mappings":";;;;AA66CmB;;AA36CnB,2EAA2E;AAC3E;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAUA;AACA;AACA;AASA;AAOA;;;AAnDA;;;;;;;;;;;;AAiJA,+CAA+C;AAC/C,iCAAiC;AACjC,+CAA+C;AAE/C,MAAM,iBAAiB;;IACrB,MAAM,SAAS,IAAA,yNAAS;IACxB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,gPAAQ,EAAC;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gPAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gPAAQ,EAAC;IAEvC,0BAA0B;IAC1B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gPAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gPAAQ,EAAe,EAAE;IAC/D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gPAAQ,EAAe,EAAE;IAE/D,qBAAqB;IACrB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gPAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gPAAQ,EAAe;QAC7D,IAAI;QACJ,WAAW;QACX,cAAc;QACd,iBAAiB;QACjB,YAAY;QACZ,kBAAkB;QAClB,aAAa;QACb,mBAAmB;IACrB;IACA,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gPAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gPAAQ,EAAgB,EAAE;IAEhE,SAAS;IACT,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,gPAAQ,EAAU,EAAE;IACxD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,gPAAQ,EAAU,EAAE,GAAG,MAAM;IAC7E,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,gPAAQ,EAAU,EAAE;IAC9D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gPAAQ,EAAc,IAAI;IAEtE,mCAAmC;IACnC,IAAA,iPAAS;oCAAC;YACR;QACF;mCAAG,EAAE;IAEL,eAAe;QACb,IAAI;YACF,MAAM,CACJ,UACA,UACA,YACA,YACA,WACA,WACA,aACA,UACA,gBACA,YACD,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACpB,8MAAY,CAAC,MAAM;gBACnB,gNAAc,CAAC,MAAM;gBACrB,gNAAc,CAAC,MAAM;gBACrB,2MAAS,CAAC,MAAM;gBAChB,0MAAQ,CAAC,GAAG;gBACZ,8MAAY,CAAC,MAAM;gBACnB,4MAAU,CAAC,MAAM;gBACjB,2MAAS,CAAC,aAAa,CAAC;gBACxB,2MAAS,CAAC,aAAa,CAAC;gBACxB,2MAAS,CAAC,aAAa,CAAC;aACzB;YAED,aAAa;YACb,eAAe;YACf,eAAe;YACf,UAAU;YACV,gBAAgB;YAChB,aAAa;YACb,eAAe;YACf,cAAc,SAAS,IAAI,CAAC,CAAC,GAAU,IAAa,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC;YAClF,oBAAoB,eAAe,IAAI,CAAC,CAAC,GAAU,IAAa,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,KAAK,MAAM;YACzG,iBAAiB,YAAY,IAAI,CAAC,CAAC,GAAU,IAAa,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC;QAC1F,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,WAAW;QACb;IACF;IAEA,+BAA+B;IAC/B,eAAe;QACb,WAAW;QACX,WAAW;QAEX,IAAI;YACF,IAAI,UAAU;YAEd,OAAQ;gBACN,KAAK;oBACH,MAAM,8MAAY,CAAC,MAAM,CAAC;oBAC1B,UAAU;oBACV;gBACF,KAAK;oBACH,MAAM,gNAAc,CAAC,MAAM,CAAC;oBAC5B,UAAU;oBACV;gBACF,KAAK;oBACH,MAAM,gNAAc,CAAC,MAAM,CAAC;oBAC5B,UAAU;oBACV;gBACF,KAAK;oBACH,MAAM,2MAAS,CAAC,SAAS,CAAC;oBAC1B,UAAU;oBACV;gBACF,KAAK;oBACH,MAAM,0MAAQ,CAAC,MAAM,CAAC;oBACtB,UAAU;oBACV;gBACF,KAAK;oBACH,MAAM,8MAAY,CAAC,MAAM,CAAC;oBAC1B,UAAU;oBACV;gBACF,KAAK;oBACH,mDAAmD;oBACnD,MAAM,iBAAiB,YAAY,GAAG,CAAC,CAAA;wBACrC,IAAI,KAAK,IAAI,KAAK,SAAS,KAAK,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC,YAAY;4BAClE,kBAAkB;4BAClB,MAAM,WAAW,KAAK,KAAK,CAAC,KAAK,CAAC;4BAClC,IAAI,YAAY,QAAQ,CAAC,EAAE,EAAE;gCAC3B,QAAQ,GAAG,CAAC,sBAAsB,QAAQ,CAAC,EAAE;gCAC7C,OAAO;oCAAE,GAAG,IAAI;oCAAE,OAAO,QAAQ,CAAC,EAAE;gCAAC;4BACvC;wBACF;wBACA,OAAO;oBACT;oBAEA,yCAAyC;oBACzC,eAAe;oBAEf,MAAM,4MAAU,CAAC,MAAM,CAAC;oBACxB,UAAU;oBACV;gBACF,KAAK;oBACH,uBAAuB;oBACvB,IAAI,eAAe,IAAI,GAAG,GAAG;wBAC3B,MAAM,iBAAiB,MAAM,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAA,KACpD,2MAAS,CAAC,MAAM,CAAC,OAAO;wBAE1B,MAAM,QAAQ,GAAG,CAAC;wBAClB,kBAAkB,IAAI;oBACxB;oBAEA,+CAA+C;oBAC/C,MAAM,kBAAkB;2BACnB;2BACA;2BACA;qBACJ,CACA,MAAM,CAAC,CAAA,MAAO,CAAC,eAAe,GAAG,CAAC,IAAI,EAAE,GACxC,GAAG,CAAC,CAAC,KAAK,QAAU,CAAC;4BAAE,IAAI,OAAO,IAAI,EAAE;4BAAG,OAAO;wBAAM,CAAC;oBAE1D,IAAI,gBAAgB,MAAM,GAAG,GAAG;wBAC7B,MAAM,2MAAS,CAAC,OAAO,CAAC;oBAC3B;oBAEA,MAAM,eAAe,qCAAqC;oBAC1D,UAAU;oBACV;YACJ;YAEA,IAAI,SAAS;gBACX,WAAW;gBACX,WAAW,IAAM,WAAW,KAAK;YACnC,OAAO;gBACL,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,WAAW,cAAc,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,eAAe;QACpF,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe;QACnB,oCAAoC;QACpC,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QAExB,yBAAyB;QACzB,OAAO,IAAI,CAAC;IACd;IAEA,oBAAoB;IACpB,MAAM,OAAO;QACX;YAAE,IAAI;YAAQ,OAAO;YAAQ,MAAM,oRAAI;QAAC;QACxC;YAAE,IAAI;YAAQ,OAAO;YAAgB,MAAM,uRAAS;QAAC;QACrD;YAAE,IAAI;YAAU,OAAO;YAAU,MAAM,oRAAI;QAAC;QAC5C;YAAE,IAAI;YAAU,OAAO;YAAU,MAAM,gSAAQ;QAAC;QAChD;YAAE,IAAI;YAAS,OAAO;YAAS,MAAM,oSAAQ;QAAC;QAC9C;YAAE,IAAI;YAAS,OAAO;YAAc,MAAM,iSAAO;QAAC;QAClD;YAAE,IAAI;YAAW,OAAO;YAAW,MAAM,uRAAK;QAAC;QAC/C;YAAE,IAAI;YAAU,OAAO;YAAU,MAAM,0RAAM;QAAC;KAC/C;IAED,qBACE,oQAAC;QAAI,WAAU;;0BAEb,oQAAC;gBAAI,WAAU;0BACb,cAAA,oQAAC;oBAAI,WAAU;;sCACb,oQAAC;;8CACC,oQAAC;oCAAG,WAAU;8CAAmC;;;;;;8CAGjD,oQAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAI5C,oQAAC,+MAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;;8CAEV,oQAAC,8RAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAOpC,oQAAC;gBAAI,WAAU;;kCAKb,oQAAC;wBAAI,WAAU;kCACZ,KAAK,GAAG,CAAC,CAAC;4BACT,MAAM,OAAO,EAAE,IAAI;4BACnB,qBACE,oQAAC,+MAAM;gCAEL,SAAS,QAAQ,EAAE,EAAE,GAAG,YAAY;gCACpC,SAAS,IAAM,OAAO,EAAE,EAAE;gCAC1B,WAAU;;kDAEV,oQAAC;wCAAK,WAAU;;;;;;oCACf,EAAE,KAAK;;+BANH,EAAE,EAAE;;;;;wBASf;;;;;;kCAIF,oQAAC,2MAAI;wBAAC,WAAU;kCACd,cAAA,oQAAC,kNAAW;4BAAC,WAAU;;gCAEpB,QAAQ,wBACP,oQAAC;oCAAW,OAAO;oCAAW,UAAU;;;;;;gCAIzC,QAAQ,wBACP,oQAAC;oCAAW,OAAO;oCAAa,UAAU;;;;;;gCAI3C,QAAQ,0BACP,oQAAC;oCAAa,OAAO;oCAAa,UAAU;;;;;;gCAI7C,QAAQ,0BACP,oQAAC;oCAAa,OAAO;oCAAQ,UAAU;;;;;;gCAIxC,QAAQ,yBACP,oQAAC;oCAAY,SAAS;oCAAc,YAAY;;;;;;gCAIjD,QAAQ,yBACP,oQAAC;oCAAgB,OAAO;oCAAW,UAAU;;;;;;gCAI9C,QAAQ,2BACP,oQAAC;oCAAc,OAAO;oCAAa,UAAU;;;;;;gCAI9C,QAAQ,0BACP,oQAAC;oCACC,YAAY;oCACZ,eAAe;oCACf,kBAAkB;oCAClB,qBAAqB;oCACrB,eAAe;oCACf,kBAAkB;oCAClB,WAAW;oCACX,QAAQ;oCACR,gBAAgB;oCAChB,mBAAmB;;;;;;;;;;;;;;;;;kCAO3B,oQAAC;wBAAI,WAAU;;0CACb,oQAAC,+MAAM;gCACL,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,UAAU,cAAc;;;;;;4BAI1B,yBACE,oQAAC;gCACC,WAAW,CAAC,4CAA4C,EACtD,QAAQ,QAAQ,CAAC,OACb,wDACA,QAAQ,QAAQ,CAAC,OACjB,kDACA,yDACL,wCAAwC,CAAC;0CAEzC;;;;;;;;;;;;;;;;;;;;;;;;AAOhB;GArUM;;QACW,yNAAS;;;KADpB;AAuUN,+CAA+C;AAC/C,oBAAoB;AACpB,+CAA+C;AAE/C,+BAA+B;AAC/B,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAyB;IAC5D,MAAM,UAAU;QACd,MAAM,UAAoB;YACxB,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,MAAM;YACN,KAAK;YACL,WAAW;YACX,SAAS;QACX;QACA,SAAS;eAAI;YAAO;SAAQ;IAC9B;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IACxC;IAEA,MAAM,aAAa,CAAC,OAAe,OAAe;QAChD,MAAM,UAAU;eAAI;SAAM;QAC1B,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,SAAS;IACX;IAEA,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,oQAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,oQAAC;wBAAc,WAAU;;0CACvB,oQAAC;gCAAI,WAAU;;kDACb,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,KAAK,IAAI;wCAChB,UAAU,CAAC,IAAM,WAAW,KAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;kDAEzD,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,KAAK,GAAG;wCACf,UAAU,CAAC,IAAM,WAAW,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;kDAExD,oQAAC,+MAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,SAAS,IAAM,WAAW;kDAE1B,cAAA,oQAAC,8RAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAKtB,oQAAC;gCAAI,WAAU;;kDACb,oQAAC;wCAAM,WAAU;;0DACf,oQAAC;gDACC,MAAK;gDACL,SAAS,KAAK,SAAS,IAAI;gDAC3B,UAAU,CAAC,IAAM,WAAW,KAAK,aAAa,EAAE,MAAM,CAAC,OAAO;gDAC9D,WAAU;;;;;;0DAEZ,oQAAC;gDAAK,WAAU;0DAAoC;;;;;;;;;;;;oCAMrD,KAAK,SAAS,kBACb,oQAAC;wCACC,WAAU;wCACV,OAAO,KAAK,OAAO,IAAI;wCACvB,UAAU,CAAC,IAAM,WAAW,KAAK,WAAW,EAAE,MAAM,CAAC,KAAK;;0DAE1D,oQAAC;gDAAO,OAAM;0DAAU;;;;;;0DACxB,oQAAC;gDAAO,OAAM;0DAAU;;;;;;0DACxB,oQAAC;gDAAO,OAAM;0DAAQ;;;;;;;;;;;;;;;;;;;uBA9CpB;;;;;;;;;;0BAsDd,oQAAC,+MAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCACpD,oQAAC,oRAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAIzC;MAvFS;AAyFT,iCAAiC;AACjC,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAA2B;IAC9D,MAAM,UAAU;QACd,MAAM,UAAsB;YAC1B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,MAAM;YACN,KAAK;YACL,SAAS;QACX;QACA,SAAS;eAAI;YAAO;SAAQ;IAC9B;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IACxC;IAEA,MAAM,aAAa,CAAC,OAAe,OAAe;QAChD,MAAM,UAAU;eAAI;SAAM;QAC1B,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,SAAS;IACX;IAEA,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,oQAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,oQAAC;wBAAc,WAAU;;0CACvB,oQAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO,KAAK,IAAI;gCAChB,UAAU,CAAC,IAAM,WAAW,KAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;0CAEzD,oQAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO,KAAK,GAAG;gCACf,UAAU,CAAC,IAAM,WAAW,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;0CAExD,oQAAC;gCACC,WAAU;gCACV,OAAO,KAAK,OAAO;gCACnB,UAAU,CAAC,IAAM,WAAW,KAAK,WAAW,EAAE,MAAM,CAAC,KAAK;;kDAE1D,oQAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,oQAAC;wCAAO,OAAM;kDAAU;;;;;;;;;;;;0CAE1B,oQAAC,+MAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,WAAW;0CAE1B,cAAA,oQAAC,8RAAM;oCAAC,WAAU;;;;;;;;;;;;uBA1BZ;;;;;;;;;;0BAgCd,oQAAC,+MAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCACpD,oQAAC,oRAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAIzC;MAhES;AAkET,iCAAiC;AACjC,SAAS,aAAa,EAAE,KAAK,EAAE,QAAQ,EAA2B;IAChE,MAAM,UAAU;QACd,MAAM,UAAsB;YAC1B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,OAAO;YACP,KAAK;QACP;QACA,SAAS;eAAI;YAAO;SAAQ;IAC9B;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IACxC;IAEA,MAAM,aAAa,CAAC,OAAe,OAAe;QAChD,MAAM,UAAU;eAAI;SAAM;QAC1B,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,SAAS;IACX;IAEA,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,oQAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,oQAAC;wBAAc,WAAU;;0CACvB,oQAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO,KAAK,KAAK;gCACjB,UAAU,CAAC,IAAM,WAAW,KAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;0CAE1D,oQAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO,KAAK,GAAG;gCACf,UAAU,CAAC,IAAM,WAAW,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;0CAExD,oQAAC,+MAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,WAAW;0CAE1B,cAAA,oQAAC,8RAAM;oCAAC,WAAU;;;;;;;;;;;;uBAlBZ;;;;;;;;;;0BAwBd,oQAAC,+MAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCACpD,oQAAC,oRAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAIzC;MAvDS;AAyDT,qBAAqB;AACrB,SAAS,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAsB;IAC3D,MAAM,UAAU;QACd,MAAM,UAAiB;YACrB,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,OAAO;YACP,MAAM;YACN,aAAa;YACb,YAAY;YACZ,WAAW;QACb;QACA,SAAS;eAAI;YAAO;SAAQ;IAC9B;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IACxC;IAEA,MAAM,aAAa,CAAC,OAAe,OAAe;QAChD,MAAM,UAAU;eAAI;SAAM;QAC1B,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,SAAS;IACX;IAEA,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,oQAAC;gBAAE,WAAU;0BAA6B;;;;;;0BAI1C,oQAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,oQAAC,2MAAI;wBAAW,WAAU;kCACxB,cAAA,oQAAC;4BAAI,WAAU;;8CACb,oQAAC;oCAAI,WAAU;;sDACb,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,KAAK;4CACjB,UAAU,CAAC,IAAM,WAAW,KAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE1D,oQAAC,+MAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,WAAW;sDAE1B,cAAA,oQAAC,8RAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;8CAItB,oQAAC;oCACC,WAAU;oCACV,aAAY;oCACZ,OAAO,KAAK,IAAI;oCAChB,UAAU,CAAC,IAAM,WAAW,KAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;8CAGzD,oQAAC;oCACC,WAAU;oCACV,aAAY;oCACZ,MAAM;oCACN,OAAO,KAAK,WAAW;oCACvB,UAAU,CAAC,IAAM,WAAW,KAAK,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8CAGhE,oQAAC;oCAAI,WAAU;;sDACb,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,UAAU,IAAI;4CAC1B,UAAU,CAAC,IAAM,WAAW,KAAK,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE/D,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,SAAS,IAAI;4CACzB,UAAU,CAAC,IAAM,WAAW,KAAK,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;uBA5CzD;;;;;;;;;;0BAoDf,oQAAC,+MAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCACpD,oQAAC,oRAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAIzC;MAzFS;AA2FT,4BAA4B;AAC5B,SAAS,YAAY,EAAE,OAAO,EAAE,UAAU,EAAoB;IAC5D,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,oQAAC;gBAAE,WAAU;0BAA6B;;;;;;0BAK1C,oQAAC;gBAAI,WAAU;;kCACb,oQAAC;wBAAG,WAAU;kCAAiE;;;;;;kCAG/E,oQAAC;wBAAE,WAAU;kCAA+B;;;;;;kCAI5C,oQAAC;wBAAI,WAAU;;0CACb,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,SAAS;wCACxB,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;0CAKzD,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,YAAY;wCAC3B,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,cAAc,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;0CAK5D,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,MAAM;wCACN,OAAO,QAAQ,eAAe;wCAC9B,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;;;;;;;;;;;;;0BAQnE,oQAAC;gBAAI,WAAU;;kCACb,oQAAC;wBAAG,WAAU;kCAAgE;;;;;;kCAG9E,oQAAC;wBAAE,WAAU;kCAA8B;;;;;;kCAI3C,oQAAC;wBAAI,WAAU;;0CACb,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,UAAU,IAAI;wCAC7B,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,YAAY,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;0CAK1D,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,UAAU;wCACzB,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,YAAY,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;0CAK1D,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,MAAM;wCACN,OAAO,QAAQ,gBAAgB;wCAC/B,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,kBAAkB,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;0CAKhE,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,QAAQ,IAAI;wCAC3B,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;;;;;;;;;;;;;0BAQ5D,oQAAC;gBAAI,WAAU;;kCACb,oQAAC;wBAAG,WAAU;kCAA+D;;;;;;kCAG7E,oQAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAI1C,oQAAC;wBAAI,WAAU;;0CACb,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,WAAW;wCAC1B,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;0CAK3D,oQAAC;;kDACC,oQAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,MAAM;wCACN,OAAO,QAAQ,iBAAiB;wCAChC,UAAU,CAAC,IACT,WAAW;gDAAE,GAAG,OAAO;gDAAE,mBAAmB,EAAE,MAAM,CAAC,KAAK;4CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ3E;MA9KS;AAgLT,yBAAyB;AACzB,SAAS,gBAAgB,EAAE,KAAK,EAAE,QAAQ,EAAyB;IACjE,MAAM,UAAU;QACd,MAAM,UAAoB;YACxB,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,OAAO;YACP,aAAa;YACb,MAAM;QACR;QACA,SAAS;eAAI;YAAO;SAAQ;IAC9B;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IACxC;IAEA,MAAM,aAAa,CAAC,OAAe,OAAe;QAChD,MAAM,UAAU;eAAI;SAAM;QAC1B,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,SAAS;IACX;IAEA,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,oQAAC;gBAAE,WAAU;0BAA6B;;;;;;0BAK1C,oQAAC;gBAAI,WAAU;;kCACb,oQAAC;wBAAG,WAAU;kCAA2D;;;;;;kCAGzE,oQAAC;wBAAE,WAAU;;4BAAwB;0CAEnC,oQAAC;gCAAK,WAAU;;kDACd,oQAAC;wCAAK,WAAU;kDAA0D;;;;;;kDAC1E,oQAAC;wCAAK,WAAU;kDAAwD;;;;;;kDACxE,oQAAC;wCAAK,WAAU;kDAAsD;;;;;;kDACtE,oQAAC;wCAAK,WAAU;kDAA0D;;;;;;kDAC1E,oQAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;0BAK9C,oQAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,oQAAC,2MAAI;wBAAW,WAAU;kCACxB,cAAA,oQAAC;4BAAI,WAAU;;8CACb,oQAAC;oCAAI,WAAU;;sDACb,oQAAC;4CACC,WAAU;4CACV,OAAO,KAAK,IAAI;4CAChB,UAAU,CAAC,IAAM,WAAW,KAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;sDAEtD,YAAY,GAAG,CAAC,CAAC,qBAChB,oQAAC;oDAAkB,OAAO;8DACvB;mDADU;;;;;;;;;;sDAKjB,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,KAAK;4CACjB,UAAU,CAAC,IAAM,WAAW,KAAK,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE1D,oQAAC,+MAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,WAAW;sDAE1B,cAAA,oQAAC,8RAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;8CAItB,oQAAC;oCACC,WAAU;oCACV,aAAY;oCACZ,MAAM;oCACN,OAAO,KAAK,WAAW;oCACvB,UAAU,CAAC,IACT,WAAW,KAAK,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;uBAnC1C;;;;;;;;;;0BA2Cf,oQAAC,+MAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCACpD,oQAAC,oRAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAIzC;MA/GS;AAiHT,2BAA2B;AAC3B,SAAS,cAAc,EAAE,KAAK,EAAE,QAAQ,EAA4B;IAClE,gCAAgC;IAChC,MAAM,UAAU,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IAC3C,MAAM,aAAa,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IAEhD,MAAM,SAAS;QACb,IAAI,SAAS;QACb,MAAM,SAAsB;YAC1B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,MAAM;YACN,OAAO;YACP,OAAO;YACP,KAAK;QACP;QACA,SAAS;YAAC;eAAW;SAAM;IAC7B;IAEA,MAAM,UAAU;QACd,MAAM,UAAuB;YAC3B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,MAAM;YACN,OAAO;YACP,OAAO;YACP,KAAK;QACP;QACA,SAAS;eAAI;YAAO;SAAQ;IAC9B;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACxC;IAEA,MAAM,aAAa,CAAC,IAAY,OAAe;QAC7C,SAAS,MAAM,GAAG,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,KAAK;gBAAE,GAAG,IAAI;gBAAE,CAAC,MAAM,EAAE;YAAM,IAAI;IAC5E;IAEA,MAAM,cAAc;QAClB;YAAE,OAAO;YAAS,OAAO;YAAS,OAAO;QAA4B;QACrE;YAAE,OAAO;YAAY,OAAO;YAAY,OAAO;QAA8B;QAC7E;YAAE,OAAO;YAAS,OAAO;YAAS,OAAO;QAA4B;QACrE;YAAE,OAAO;YAAW,OAAO;YAAW,OAAO;QAAgC;QAC7E;YAAE,OAAO;YAAW,OAAO;YAAW,OAAO;QAA4B;QACzE;YAAE,OAAO;YAAS,OAAO;YAAS,OAAO;QAA4B;KACtE;IAED,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAG3C,oQAAC;gBAAI,WAAU;;kCACb,oQAAC;wBAAI,WAAU;;0CACb,oQAAC;gCAAG,WAAU;;kDACZ,oQAAC,8RAAM;wCAAC,WAAU;;;;;;oCAA6B;;;;;;;4BAGhD,CAAC,yBACA,oQAAC,+MAAM;gCAAC,MAAK;gCAAK,SAAS;gCAAQ,WAAU;0CAA4B;;;;;;;;;;;;oBAM5E,wBACC,oQAAC;wBAAI,WAAU;;0CACZ,oQAAC;gCAAI,WAAU;;kDACb,oQAAC;wCAAO,WAAU;kDAAa;;;;;;kDAC/B,oQAAC;wCAAG,WAAU;;0DACZ,oQAAC;0DAAG;;;;;;0DACJ,oQAAC;;oDAAG;kEAAU,oQAAC;kEAAO;;;;;;oDAAc;;;;;;;0DACpC,oQAAC;;oDAAG;kEAAW,oQAAC;kEAAO;;;;;;oDAAoB;;;;;;;0DAC3C,oQAAC;;oDAAG;kEAAM,oQAAC;kEAAO;;;;;;;;;;;;0DAClB,oQAAC;0DAAG;;;;;;;;;;;;;;;;;;0CAIR,oQAAC;gCAAE,WAAU;0CAAoC;;;;;;0CAGjD,oQAAC;gCAAI,WAAU;;kDACZ,oQAAC;wCACC,WAAU;wCACV,aAAY;wCACZ,OAAO,QAAQ,KAAK;wCACpB,UAAU,CAAC,IAAM,WAAW,QAAQ,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;kDAEjE,oQAAC,+MAAM;wCAAC,SAAQ;wCAAU,SAAS,IAAM,WAAW,QAAQ,EAAE;kDAC5D,cAAA,oQAAC,8RAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;6CAK1B,oQAAC;wBAAE,WAAU;kCAA+B;;;;;;;;;;;;0BAKhD,oQAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,oQAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,qBACf,oQAAC,2MAAI;wBAAe,WAAU;kCAC5B,cAAA,oQAAC;4BAAI,WAAU;;8CACb,oQAAC;oCAAI,WAAU;;sDACZ,oQAAC;4CACA,WAAU;4CACV,OAAO,KAAK,IAAI;4CAChB,UAAU,CAAC,IAAM,WAAW,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;sDAE1D,YAAY,GAAG,CAAC,CAAC,oBAChB,oQAAC;oDAAuB,OAAO,IAAI,KAAK;8DACrC,IAAI,KAAK;mDADC,IAAI,KAAK;;;;;;;;;;wCAOzB,CAAC;4CACC,MAAM,MAAM,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,KAAK,IAAI;4CACvD,OAAO,oBACL,oQAAC;gDAAI,WAAW,CAAC,0DAA0D,EAAE,IAAI,KAAK,EAAE;;oDACrF,IAAI,KAAK;oDAAC;;;;;;uDAEX;wCACP,CAAC;sDAED,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,KAAK;4CACjB,UAAU,CAAC,IAAM,WAAW,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAIhE,oQAAC;oCAAI,WAAU;;sDACb,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,KAAK;4CACjB,UAAU,CAAC,IAAM,WAAW,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;wCAG7D,KAAK,IAAI,KAAK,2BACb,oQAAC;4CACC,WAAU;4CACV,aAAY;4CACZ,OAAO,KAAK,GAAG,IAAI;4CACnB,UAAU,CAAC,IAAM,WAAW,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;sDAI9D,oQAAC,+MAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,WAAW,KAAK,EAAE;sDAEjC,cAAA,oQAAC,8RAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;uBAvDf,KAAK,EAAE;;;;;;;;;;0BA+DtB,oQAAC,+MAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCACpD,oQAAC,oRAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAIzC;MAxKS;AA4KT,sBAAsB;AACtB,SAAS,aAAa,EACpB,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,cAAc,EACd,SAAS,EAOV;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gPAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gPAAQ,EAAC;IACjC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,gPAAQ,EAAM;IAEhE,MAAM,qBAAqB,CAAC,aAAkB;QAC5C,qBAAqB;IACvB;IAEA,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,cAAc,MAAM,IAAA,uMAAa,EAAC,UAAU;YAClD,IAAI,aAAa;gBACf,eAAe;YACjB;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;YACd,MAAM;QACR;IACF;IAEA,qBACE,oQAAC;QAAI,WAAU;kBACb,cAAA,oQAAC;YAAI,WAAU;;8BACb,oQAAC;oBAAI,WAAU;;sCACb,oQAAC;4BAAG,WAAU;;8CACZ,oQAAC;oCAAI,WAAU;8CACZ,cAAA,oQAAC,uRAAS;wCAAC,WAAU;;;;;;;;;;;gCAClB;;;;;;;sCAGR,oQAAC,+MAAM;4BAAC,SAAQ;4BAAQ,MAAK;4BAAO,SAAS;sCAC3C,cAAA,oQAAC,2QAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAIjB,oQAAC;oBAAI,WAAU;8BACb,cAAA,oQAAC,8OAAO;wBACN,OAAO;wBACP,MAAM;wBACN,MAAM;wBACN,QAAQ;wBACR,UAAU;wBACV,cAAc;wBACd,gBAAgB;wBAChB,cAAc;;;;;;;;;;;8BAIlB,oQAAC;oBAAI,WAAU;;sCACb,oQAAC;4BAAI,WAAU;;8CACZ,oQAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,oQAAC;oCACC,MAAK;oCACL,OAAO;oCACP,KAAK;oCACL,KAAK;oCACL,MAAM;oCACN,mBAAgB;oCAChB,UAAU,CAAC,IAAM,QAAQ,OAAO,EAAE,MAAM,CAAC,KAAK;oCAC9C,WAAU;;;;;;8CAEZ,oQAAC;oCAAK,WAAU;;wCAAoE,KAAK,OAAO,CAAC;wCAAG;;;;;;;;;;;;;sCAEvG,oQAAC;4BAAI,WAAU;;8CACZ,oQAAC;oCAAI,WAAU;;sDACZ,oQAAC;sDAAO;;;;;;wCAAa;;;;;;;8CAExB,oQAAC;oCAAI,WAAU;;sDACZ,oQAAC,+MAAM;4CAAC,SAAQ;4CAAU,SAAS;4CAAU,UAAU;4CAAW,WAAU;sDAAkB;;;;;;sDAC9F,oQAAC,+MAAM;4CAAC,SAAS;4CAAa,UAAU;4CAAW,WAAU;sDAC1D,0BACC,oQAAC;gDAAK,WAAU;;kEACb,oQAAC;wDAAK,WAAU;;;;;;oDAAmE;;;;;;uDAGpF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtB;IAhGS;MAAA;AAkGT,2BAA2B;AAC3B,SAAS,cAAc,EACrB,KAAK,EACL,iBAAiB,EACjB,QAAQ,EACR,SAAS,EACT,QAAQ,EAOT;;IACC,MAAM,EACJ,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACV,UAAU,EACX,GAAG,IAAA,4PAAW,EAAC;QAAE,IAAI,MAAM,EAAE,CAAC,QAAQ;IAAG;IAE1C,MAAM,QAAQ;QACZ,WAAW,sPAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;QACA,QAAQ,aAAa,KAAK;QAC1B,SAAS,aAAa,MAAM;IAC9B;IAEA,qBACE,oQAAC;QACC,KAAK;QACL,OAAO;QACP,WAAW,CAAC,yHAAyH,EACnI,aAAa,qCAAqC,IAClD;QACD,GAAG,UAAU;QACb,GAAG,SAAS;QACb,SAAS,IAAM,UAAU,GAAG,WAAW,MAAM,IAAI,EAAE,EAAE,MAAM,QAAQ;;0BAEnE,oQAAC;gBACC,KAAK,GAAG,WAAW,MAAM,IAAI,EAAE;gBAC/B,KAAK,MAAM,QAAQ;gBACnB,WAAW,CAAC,0CAA0C,EACpD,oBAAoB,yBAAyB,yBAC7C;;;;;;0BAEJ,oQAAC;gBAAI,WAAU;0BAA0J;;;;;;0BAGzK,oQAAC;gBACC,WAAW,CAAC,8DAA8D,EACxE,oBACI,4BACA,2DACJ;gBACF,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,SAAS,MAAM,EAAE;gBACnB;gBACA,eAAe,CAAC,IAAM,EAAE,eAAe;0BAEtC,kCACC,oQAAC,oRAAI;oBAAC,WAAU;;;;;yCAEhB,oQAAC,8RAAM;oBAAC,WAAU;;;;;;;;;;;0BAKrB,oQAAC;gBAAI,WAAU;;oBAAqH;oBAChI,MAAM,KAAK;;;;;;;;;;;;;AAItB;IA3ES;;QAoBH,4PAAW;;;MApBR;AA6ET,sFAAsF;AACtF,SAAS,aAAa,EACpB,UAAU,EACV,aAAa,EACb,gBAAgB,EAChB,mBAAmB,EACnB,aAAa,EACb,gBAAgB,EAChB,SAAS,EACT,cAAc,EACd,iBAAiB,EACC;;IAClB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gPAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gPAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gPAAQ,EAAgB;IAEhE,cAAc;IACd,MAAM,mBAAmB,IAAA,8OAAM,EAAmB;IAClD,MAAM,yBAAyB,IAAA,8OAAM,EAAmB;IACxD,MAAM,sBAAsB,IAAA,8OAAM,EAAmB;IAErD,4BAA4B;IAC5B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gPAAQ,EAA2C;IAE3F,mCAAmC;IACnC,MAAM,WAAW,6DAAoC;IAErD,mBAAmB;IACnB,MAAM,UAAU,IAAA,mPAAU,EACxB,IAAA,kPAAS,EAAC,sPAAa,EAAE;QAAE,sBAAsB;YAAE,UAAU;QAAE;IAAE,IACjE,IAAA,kPAAS,EAAC,uPAAc,EAAE;QAAE,kBAAkB,4QAA2B;IAAC;IAG5E,2CAA2C;IAC3C,MAAM,mBAAmB,CACvB,OACA;QAEA,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,CAAC,MAAM;QAEX,cAAc;QACd,IAAI,eAAe;QACnB,IAAI,aAAa,QAAQ,eAAe,WAAW,MAAM;aACpD,IAAI,aAAa,eAAe,eAAe,iBAAiB,MAAM;aACtE,eAAe,cAAc,MAAM;QAExC,IAAI,gBAAgB,IAAI;YACtB,MAAM,CAAC,qDAAqD,CAAC;YAC7D,MAAM,MAAM,CAAC,KAAK,GAAG;YACrB;QACF;QAEA,wBAAwB;QACxB,MAAM,SAAS,IAAI;QACnB,OAAO,gBAAgB,CAAC,QAAQ;YAC9B,gBAAgB,OAAO,MAAM,EAAE,cAAc;YAC7C,gBAAgB;QAClB;QACA,OAAO,aAAa,CAAC;QACrB,MAAM,MAAM,CAAC,KAAK,GAAG,IAAI,4BAA4B;IACvD;IAEA,oCAAoC;IACpC,MAAM,qBAAqB,OAAO;QAChC,IAAI,CAAC,cAAc;QAEnB,aAAa;QACb,IAAI;YACF,0BAA0B;YAC1B,MAAM,OAAO,IAAI,KAAK;gBAAC;aAAY,EAAE,CAAC,OAAO,EAAE,KAAK,GAAG,GAAG,IAAI,CAAC,EAAE;gBAAE,MAAM;YAAa;YAEtF,MAAM,WAAW,MAAM,2MAAS,CAAC,MAAM,CAAC,MAAM;YAC9C,IAAI,UAAU;gBACZ;gBACA,MAAM;gBACN,gBAAgB;gBAChB,gBAAgB;gBAChB,gBAAgB;YAClB,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;YACd,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,iCAAiC;IACjC,MAAM,mBAAmB,CAAC;QACxB,kBAAkB,CAAA;YAChB,MAAM,SAAS,IAAI,IAAI;YACvB,IAAI,OAAO,GAAG,CAAC,KAAK;gBAClB,OAAO,MAAM,CAAC;YAChB,OAAO;gBACL,OAAO,GAAG,CAAC;YACb;YACA,OAAO;QACT;IACF;IAEA,mBAAmB;IACnB,MAAM,gBAAgB,CAAC,OAAY;QACjC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QACzB,IAAI,CAAC,QAAQ,OAAO,EAAE,KAAK,KAAK,EAAE,EAAE;QAEpC,MAAM,cAAc,CAAC,OAAgB;YACnC,MAAM,WAAW,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,CAAC,QAAQ,OAAO,OAAO,EAAE;YACrE,MAAM,WAAW,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,CAAC,QAAQ,OAAO,KAAK,EAAE;YACnE,MAAM,WAAW,IAAA,0PAAS,EAAC,OAAO,UAAU,UAAU,GAAG,CAAC,CAAC,MAAM,QAAU,CAAC;oBAAE,GAAG,IAAI;oBAAE,OAAO;gBAAM,CAAC;YACrG,SAAS;QACX;QAEA,IAAI,aAAa,QAAQ;YACvB,YAAY,YAAY;QAC1B,OAAO,IAAI,aAAa,eAAe;YACpC,YAAY,kBAAkB;QACjC,OAAO,IAAI,aAAa,WAAW;YACjC,YAAY,eAAe;QAC7B;IACF;IAEA,MAAM,kBAAkB,CACtB,QACA,WACA,OACA,UACA,eACA,0BAEA,oQAAC;YAAI,WAAU;;8BACX,oQAAC;oBAAI,WAAU;;sCACb,oQAAC;4BAAG,WAAU;;gCACX;8CACD,oQAAC;oCAAK,WAAU;;wCACZ,OAAO,MAAM;wCAAC;;;;;;;;;;;;;sCAGpB,oQAAC,+MAAM;4BAAC,SAAQ;4BAAU,MAAK;4BAAK,SAAS;4BAAe,UAAU;;8CACpE,oQAAC,oRAAI;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;gBAIpC,OAAO,MAAM,GAAG,kBACf,oQAAC,mPAAU;oBAAC,SAAS;oBAAS,oBAAoB,sPAAa;oBAAE,WAAW,CAAC,IAAM,cAAc,GAAG;8BAClG,cAAA,oQAAC,gQAAe;wBAAC,OAAO,OAAO,GAAG,CAAC,CAAA,MAAO,IAAI,EAAE,CAAC,QAAQ;wBAAK,UAAU,oQAAmB;kCACzF,cAAA,oQAAC;4BAAI,WAAU;sCACZ,OAAO,GAAG,CAAC,CAAC;gCACT,MAAM,WAAW,eAAe,GAAG,CAAC,IAAI,EAAE;gCAC1C,qBACE,oQAAC;oCAEC,OAAO;oCACP,mBAAmB;oCACnB,UAAU;oCACV,WAAW,CAAC,KAAK,WAAa,gBAAgB;4CAAE;4CAAK;wCAAS;oCAC9D,UAAU;mCALL,IAAI,EAAE;;;;;4BAQnB;;;;;;;;;;;;;;;yCAKL,oQAAC;oBAAI,WAAU;;sCACZ,oQAAC,uRAAS;4BAAC,WAAU;;;;;;sCACrB,oQAAC;4BAAE,WAAU;sCAAyB;;;;;;;;;;;;;;;;;;IAMlD,qBACE,oQAAC;;0BACC,oQAAC;gBAAG,WAAU;0BAA6B;;;;;;YAG1C,gBACE,YACA,eACA,qCACA,QACA,IAAM,iBAAiB,OAAO,EAAE,SAChC;0BAEH,oQAAC;gBAAM,MAAK;gBAAO,KAAK;gBAAkB,QAAO;gBAAU,WAAU;gBAAS,UAAU,CAAC,IAAM,iBAAiB,GAAG;;;;;;YAGlH,gBACE,kBACA,qBACA,mCACA,eACA,IAAM,uBAAuB,OAAO,EAAE,SACtC;0BAEH,oQAAC;gBAAM,MAAK;gBAAO,KAAK;gBAAwB,QAAO;gBAAU,WAAU;gBAAS,UAAU,CAAC,IAAM,iBAAiB,GAAG;;;;;;YAGxH,gBACE,eACA,kBACA,kBACA,WACA,IAAM,oBAAoB,OAAO,EAAE,SACnC;0BAEH,oQAAC;gBAAM,MAAK;gBAAO,KAAK;gBAAqB,QAAO;gBAAU,WAAU;gBAAS,UAAU,CAAC,IAAM,iBAAiB,GAAG;;;;;;YAGpH,eAAe,IAAI,GAAG,mBACtB,oQAAC;gBAAI,WAAU;;kCACZ,oQAAC;wBAAI,WAAU;kCACb,cAAA,oQAAC,8RAAM;4BAAC,WAAU;;;;;;;;;;;kCAEpB,oQAAC;;0CACC,oQAAC;gCAAE,WAAU;;oCAA2B,eAAe,IAAI;oCAAC;;;;;;;0CAC5D,oQAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;YAM3C,8BACC,oQAAC;gBACC,UAAU;gBACV,aAAa,iBAAiB,gBAAgB,IAAI,KAAK,KAAK;gBAC5D,UAAU;oBACR,gBAAgB;oBAChB,gBAAgB;gBAClB;gBACA,gBAAgB;gBAChB,WAAW;;;;;;YAKd,8BACC,oQAAC;gBAAI,WAAU;gBAAsE,SAAS,IAAM,gBAAgB;0BACjH,cAAA,oQAAC;oBAAI,KAAK,aAAa,GAAG;oBAAE,KAAI;oBAAU,WAAU;;;;;;;;;;;;;;;;;AAK/D;IArPS;;QA2BS,mPAAU;;;OA3BnB;uCAuPM"}}]
}